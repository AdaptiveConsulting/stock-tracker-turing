var L=Object.defineProperty;var C=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var P=(s,t,r)=>t in s?L(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,g=(s,t)=>{for(var r in t||(t={}))R.call(t,r)&&P(s,r,t[r]);if(C)for(var r of C(t))A.call(t,r)&&P(s,r,t[r]);return s};import{j as e,a as c,r as i,F as O,T as j,R as K,L as U,C as q,Y as M,X as V,b as G,c as z,d as E,e as D,f as W,g as B,h as Y}from"./vendor.c2c05273.js";const H=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};H();const X=({completed:s})=>{const t={height:"4px",width:"231px",backgroundColor:"#e0e0de",borderRadius:50},r={height:"100%",width:`${s}%`,backgroundColor:" var(--core-primary-2)",borderRadius:"inherit"};return e("div",{style:t,children:e("div",{style:r})})};var J="./assets/ra-logo.612be723.png";const Q=({completed:s})=>c("div",{className:s===100?"splash-screen-short":"splash-screen",children:[e("img",{src:J,className:s===100?"":"logo",alt:"deneme"}),s===100?null:e(X,{completed:s})]});const v=i.exports.createContext({setSelectedResult:()=>{}}),x=i.exports.createContext({stocks:[],stockSearch:"",setStockSearch:()=>{}}),Z=({symbol:s,stockName:t})=>{const{setSelectedResult:r}=i.exports.useContext(v),{stockSearch:a,setStockSearch:n}=i.exports.useContext(x),o=(d,p=0)=>{const m=new RegExp(a,"gi"),f=d.match(m),u=f?f.toString():"",h=d.substring(u.length);return c("span",{children:[e("strong",{className:"black",children:u}),h," "]},p)};return e("div",{children:c("div",{className:"stock-suggested",onClick:()=>{r({symbol:s,stockName:t}),n(`${s} - ${t}`)},children:[o(s)," - ",t.split(" ").map(o)]})})},ee=({market:s})=>{const{stocks:t}=i.exports.useContext(x);return c("div",{children:[e("div",{className:"market-name",children:s}),t==null?void 0:t.map((r,a)=>e(Z,{symbol:r.symbol,stockName:r.name},a))]})},te=()=>{const{stocks:s}=i.exports.useContext(x);return e("div",{className:"suggestion-panel",children:(s==null?void 0:s.length)===0?e("div",{className:"no-result-label",children:"No results found"}):e(ee,{market:"Stocks"})})},se={}.VITE_API_TOKEN,re=(s,t)=>{const r=`https://cloud.iexapis.com/stable/search/${t}/${se}`;fetch(r).then(a=>a.json()).then(a=>{s(a)}).catch(a=>{s([]),console.log(a)})},F=({style:s={},currentResult:t})=>{const[r,a]=i.exports.useState(null),[n,o]=i.exports.useState(t),[l,d]=i.exports.useState(!1);i.exports.useEffect(()=>{o(l?"":t)},[l,t]),i.exports.useEffect(()=>{n?re(a,n):a(null)},[n]);const p=u=>{o(u.target.value)},m=()=>{d(!0)},f=()=>{setTimeout(()=>{d(!1)},150)};return e("div",{className:"search-wrapper",style:g({},s),children:c(O,{children:[e("input",{type:"text",onFocus:m,onBlur:f,onChange:p,value:n,placeholder:"Enter a stock, symbol or currency"}),e(x.Provider,{value:{stocks:r,stockSearch:n,setStockSearch:o},children:r&&n&&l&&e(te,{})})]})})},ae=()=>e("div",{className:"search",children:e(F,{currentResult:"",style:{}})}),ne=({x:s,y:t,payload:r})=>{let a="-";return!r||!t||!s?null:(Math.floor(r.value)%2==0&&(a=Math.floor(r.value)),e(j,{y:t+3.5,x:s,textAnchor:"end",fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto",dx:-2,children:a}))},ce=s=>s.filter(r=>r.open>0),T=s=>{const[t,r]=i.exports.useState(),[a,n]=i.exports.useState();return i.exports.useEffect(()=>{(async()=>{const l=await fetch(s);l.ok||n(l.status);const d=await l.json();r(ce(d)),n(0)})()},[s]),[t,a]},oe=s=>{const[t,r]=i.exports.useState(),[a,n]=i.exports.useState();return i.exports.useEffect(()=>{(async()=>{const l=await fetch(s);l.ok||n(l.status);const d=await l.json();r(d)})()},[s]),[t,a]};const ie=()=>e("div",{className:"graph-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"100",height:"150","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"100",width:"20",x:"0",order:"0",speed:"0.8",className:"graph-one"}),e("rect",{type:"secondary",height:"100",width:"20",x:"25",order:"1",speed:"0.8",className:"graph-two"}),e("rect",{type:"secondary",height:"100",width:"20",x:"50",order:"2",speed:"0.8",className:"graph-three"}),e("rect",{type:"secondary",height:"100",width:"20",x:"75",order:"3",speed:"0.8",className:"graph-four"})]})})});const le=()=>e("div",{className:"loading-fail",children:"Graph Data Not Available"}),y={}.VITE_API_TOKEN,de=({stockSymbol:s})=>{const t=`https://cloud.iexapis.com/stable/stock/${s}/intraday-prices/${y}&chartInterval=5`,r=`https://cloud.iexapis.com/stable/stock/${s}/chart/date/20211111${y}&chartInterval=5`,a=`https://cloud.iexapis.com/stable/stock/${s}/previous/${y}`,[n,o]=T(t),[l,d]=T(r),[p]=oe(a);return o||d?e(le,{}):n?e("div",{className:"chart",children:e(K,{width:"100%",height:"100%",children:c(U,{children:[e(q,{stroke:"#e0e0e0",strokeWidth:.6,verticalFill:["#ffffff00","#ededed80"]}),e(M,{stroke:"#eaebeb",tickSize:10,interval:"preserveStartEnd",allowDecimals:!1,domain:["dataMin-1","auto"],padding:{top:20},dx:-5,tick:e(ne,{})}),e(V,{stroke:"#eaebeb",tickSize:10,tick:{fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto"},interval:4,allowDuplicatedCategory:!1,dataKey:"label",dy:5,textAnchor:"beginning"}),e(G,{contentStyle:{fontSize:14,borderColor:"#aaabd1",textAlign:"center",fontFamily:"Roboto"}}),e(z,{y:p==null?void 0:p.close,stroke:"#aaabd1",strokeDasharray:"5 3"}),e(E,{hide:!1,name:"Open",data:n,dataKey:"open",stroke:"#aaabd1",strokeWidth:2,dot:!1,activeDot:{r:4}}),e(E,{hide:!0,name:"Yesterday Open",data:l,dataKey:"open",stroke:"grey",strokeWidth:2,dot:!1,activeDot:{r:4}})]})})}):e(ie,{})};const he={}.VITE_API_TOKEN,pe=async s=>{const t=`https://cloud.iexapis.com/stable/stock/${s}/news/last/3${he}`;try{return await fetch(t).then(a=>a.json())}catch(r){console.error(r)}};D.extend(W);const ue=({stockSymbol:s})=>{const[t,r]=i.exports.useState([]);return i.exports.useEffect(()=>{let a=!0;return setTimeout(()=>{pe(s).then(n=>{a&&r(n)})},200),()=>{a=!1}},[s]),c("div",{className:"news-wrapper",children:[e("h3",{className:"news-title",children:"Latest News"}),t?t.map((a,n)=>c("div",{className:"news-container",children:[e("div",{className:"news-headline",children:e("a",{href:a.url,target:"_blank",rel:"noreferrer",children:a.headline})}),c("div",{className:"news-date","data-testid":"days-ago",children:[D(a.datetime).toNow(!0)," ago - ",a.source]})]},n)):e("div",{className:"news-container",children:"Error fetching news"})]})};const I={}.VITE_API_TOKEN,me=async s=>{const t=`https://cloud.iexapis.com/stable/stock/${s}/quote/${I}`,r=`https://cloud.iexapis.com/stable/stock/${s}/stats/${I}`;try{const a=await fetch(t).then(l=>l.json()),n=await fetch(r).then(l=>l.json());return g(g({},n),a)}catch(a){console.error(a)}},fe=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1});function N(s){return fe.formatToParts(s).map(({type:t,value:r})=>{switch(t){case"fraction":return`${r} `;default:return r}}).reduce((t,r)=>t+r)}const ge=()=>e("div",{className:"key-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"100",height:"150","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"100",width:"20",x:"0",order:"0",speed:"0.8",className:"key-one"}),e("rect",{type:"secondary",height:"100",width:"20",x:"25",order:"1",speed:"0.8",className:"key-two"}),e("rect",{type:"secondary",height:"100",width:"20",x:"50",order:"2",speed:"0.8",className:"key-three"}),e("rect",{type:"secondary",height:"100",width:"20",x:"75",order:"3",speed:"0.8",className:"key-four"})]})})}),xe=({stockSymbol:s})=>{var $;const[t,r]=i.exports.useState();if(i.exports.useEffect(()=>{let b=!0;return setTimeout(()=>{me(s).then(_=>{b&&r(_)})},200),()=>{b=!1}},[s]),!t)return e(ge,{});const{high:a,low:n,open:o,previousClose:l,week52High:d,week52Low:p,marketCap:m,peRatio:f,dividendYield:u,ttmEPS:h,isUSMarketOpen:je,volume:S,avgTotalVolume:k}=t;return c("div",{className:"stats-wrapper","data-testid":"statistics",children:[e("h2",{className:"stats-title",children:"Key Statistics"}),c("div",{className:"stats-container",children:[c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Open",e("span",{children:o?`$${o}`:"-"})]}),c("div",{className:"stats-row",children:["High",e("span",{children:a?`$${a}`:"-"})]}),c("div",{className:"stats-row",children:["Low",e("span",{children:n?`$${n}`:"-"})]}),c("div",{className:"stats-row",children:["Previous Close",e("span",{children:`$${l}`})]})]}),c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Day Range",e("span",{children:a?`$${a} - ${n}`:"-"})]}),c("div",{className:"stats-row",children:["52 Week Range",e("span",{children:`$${p} - ${d}`})]}),c("div",{className:"stats-row",children:["Market Cap",e("span",{children:($=N(m))!=null?$:"-"})]}),c("div",{className:"stats-row",children:["P/E Ratio",e("span",{children:f})]})]}),c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Dividend Yield",e("span",{children:u?`${u==null?void 0:u.toFixed(2)}%`:"-"})]}),c("div",{className:"stats-row",children:["Earnings Per Share",e("span",{children:h?`${h==null?void 0:h.toFixed(2)}`:"-"})]}),c("div",{className:"stats-row",children:["Volume",e("span",{children:S?N(S):"-"})]}),c("div",{className:"stats-row",children:["Total Avg. Volume",e("span",{children:k?N(k):"-"})]})]})]})]})},ve={}.VITE_PEERS_TOKEN,ye=async s=>{const t=`https://finnhub.io/api/v1/stock/peers?symbol=${s}${ve}`;try{return await fetch(t).then(a=>a.json())}catch(r){console.error(r)}};const Ne=({stockSymbol:s})=>{const[t,r]=i.exports.useState([]),{setSelectedResult:a}=i.exports.useContext(v);return i.exports.useEffect(()=>{let n=!0;return ye(s).then(o=>{n&&r(o)}),()=>{n=!1}},[s]),c("div",{className:"peers-wrapper",children:[e("h2",{className:"peers-title",children:"Top Peers"}),e("div",{className:"peers-container",children:t==null?void 0:t.map((n,o)=>e("button",{onClick:()=>a({symbol:n,stockName:""}),className:"peer",children:n},o))})]})};const we={}.VITE_API_TOKEN,Se=async s=>{const t=`https://cloud.iexapis.com/stable/stock/${s}/company${we}`;try{return await fetch(t).then(a=>a.json())}catch(r){console.error(r)}},ke=({stockSymbol:s})=>{var a,n,o,l;const[t,r]=i.exports.useState();return i.exports.useEffect(()=>{let d=!0;return setTimeout(()=>{Se(s).then(p=>{d&&r(p)})},100),()=>{d=!1}},[s]),c("div",{className:"summary-container",children:[e("h2",{className:"summary-title",children:"Company Summary"}),c("h3",{className:"company-name",children:[(a=t==null?void 0:t.companyName)!=null?a:"Error fetching name"," (",(n=t==null?void 0:t.symbol)!=null?n:"Error fetching symbol",")"]}),e("a",{className:"company-link",target:"_blank",rel:"noreferrer",href:t==null?void 0:t.website,children:(o=t==null?void 0:t.website)!=null?o:"Error fetching link"}),e("p",{className:"company-summary",children:(l=t==null?void 0:t.description.substring(0,500))!=null?l:"Description is not available"})]})},w={}.VITE_API_TOKEN,$e=`https://cloud.iexapis.com/stable/stock/SPY/quote/${w}`,be=`https://cloud.iexapis.com/stable/stock/DIA/quote/${w}`,Ce=`https://cloud.iexapis.com/stable/stock/IWM/quote/${w}`,Pe=async()=>{const s=await fetch($e);if(!s.ok)return{error:!0,indexPrice:0,indexChange:0,indexPercentChange:0};const t=await s.json();return{error:!1,indexPrice:t.latestPrice.toFixed(2),indexChange:t.change.toFixed(2),indexPercentChange:t.changePercent.toFixed(2)}},Ee=async()=>{const s=await fetch(be);if(!s.ok)return{error:!0,indexPrice:0,indexChange:0,indexPercentChange:0};const t=await s.json();return{error:!1,indexPrice:t.latestPrice.toFixed(2),indexChange:t.change.toFixed(2),indexPercentChange:t.changePercent.toFixed(2)}},De=async()=>{const s=await fetch(Ce);if(!s.ok)return{error:!0,indexPrice:0,indexChange:0,indexPercentChange:0};const t=await s.json();return{error:!1,indexPrice:t.latestPrice.toFixed(2),indexChange:t.change.toFixed(2),indexPercentChange:t.changePercent.toFixed(2)}};const Fe=()=>e("div",{className:"fte-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"55",height:"75","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"40",width:"10",x:"0",order:"0",speed:"0.8",className:"index-one"}),e("rect",{type:"secondary",height:"40",width:"10",x:"12",order:"1",speed:"0.8",className:"index-two"}),e("rect",{type:"secondary",height:"40",width:"10",x:"24",order:"2",speed:"0.8",className:"index-three"}),e("rect",{type:"secondary",height:"40",width:"10",x:"36",order:"3",speed:"0.8",className:"index-four"})]})})});const Te=()=>e("div",{className:"fte-error",children:"Indexes Not Available"}),Ie=()=>{const[s,t]=i.exports.useState(),[r,a]=i.exports.useState(),[n,o]=i.exports.useState(),[l,d]=i.exports.useState(!1),[p,m]=i.exports.useState(!1),[f,u]=i.exports.useState(!1);return i.exports.useEffect(()=>{Pe().then(h=>{h.error?d(!0):(d(!1),t(h))}),Ee().then(h=>{h.error?m(!0):(m(!1),a(h))}),De().then(h=>{h.error?u(!0):(u(!1),o(h))})},[]),l||p||f?e(Te,{}):!s||!r||!n?e(Fe,{}):e("div",{className:"fte",children:e("table",{children:e("tbody",{children:c("tr",{children:[c("td",{className:"name",children:[e("span",{className:"index-name",children:"SPY"})," $",s.indexPrice]}),c("td",{className:s.indexChange>0?"positiveChange":"negativeChange",children:[s.indexChange>0?"\u2191":"\u2193"," ",s.indexChange," | ",s.indexPercentChange,"%"]}),c("td",{className:"name",children:[e("span",{className:"index-name",children:"DIA"})," $",r.indexPrice]}),c("td",{className:r.indexChange>0?"positiveChange":"negativeChange",children:[r.indexChange>0?"\u2191":"\u2193"," ",r.indexChange," | ",r.indexPercentChange,"%"]}),c("td",{className:"name",children:[e("span",{className:"index-name",children:"IWM"})," $",n.indexPrice]}),c("td",{className:n.indexChange>0?"positiveChange":"negativeChange",children:[n.indexChange>0?"\u2191":"\u2193"," ",n.indexChange," | ",n.indexPercentChange,"%"]})]})})})})};const _e=()=>e("div",{className:"live-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"40",height:"50","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"30",width:"8",x:"0",order:"0",speed:"0.8",className:"live-one"}),e("rect",{type:"secondary",height:"30",width:"8",x:"10",order:"1",speed:"0.8",className:"live-two"}),e("rect",{type:"secondary",height:"30",width:"8",x:"20",order:"2",speed:"0.8",className:"live-three"}),e("rect",{type:"secondary",height:"30",width:"8",x:"30",order:"3",speed:"0.8",className:"live-four"})]})})});const Le=()=>e("div",{className:"live-price-error",children:"Price Not Available"}),Re=({stockSymbol:s})=>{const[t,r]=i.exports.useState(),[a,n]=i.exports.useState(),[o,l]=i.exports.useState(),[d,p]=i.exports.useState(!1);return i.exports.useEffect(()=>{const m=new EventSource(`https://sandbox-sse.iexapis.com/stable/stocksUS1second?token=Tpk_095b8e5990924d0c8c41c2209556da53&symbols=${s}`),f=u=>{const h=u[0];r(h.latestPrice),n(h.change),l(h.changePercent)};return m.onmessage=u=>{p(!1),f(JSON.parse(u.data))},m.onerror=()=>{p(!0),m.close()},()=>{m.close()}},[s]),d?e(Le,{}):!t||!a?e(_e,{}):c("div",{className:"live-container",children:[c("div",{className:"live-price",children:["$",t==null?void 0:t.toFixed(2)]}),c("div",{className:a>0?"price-change-positive":"price-change-negative",children:[a>0?"\u2191":"\u2193"," ",a==null?void 0:a.toFixed(2)," | ",o==null?void 0:o.toFixed(2),"%"]})]})},Ae=({symbol:s,stockName:t})=>c("div",{className:"dashboard",children:[c("div",{className:"main-section",children:[c("div",{className:"search-live",children:[e(F,{currentResult:`${s} - ${t}`,style:{marginTop:"4vh"}}),e(Re,{stockSymbol:s})]}),e(de,{stockSymbol:s}),e(xe,{stockSymbol:s}),e(Ie,{})]}),c("div",{className:"right-sidebar",children:[e(ue,{stockSymbol:s}),e(ke,{stockSymbol:s}),e(Ne,{stockSymbol:s})]})]});function Oe(){const[s,t]=i.exports.useState(),[r,a]=i.exports.useState(0);return i.exports.useEffect(()=>{if(r<100){const n=setInterval(()=>{a(o=>o+1)},10);return()=>{clearInterval(n)}}},[r]),c("div",{className:"app",children:[e(Q,{completed:r}),c(v.Provider,{value:{setSelectedResult:t},children:[r===100&&!s&&e(ae,{}),s&&e(Ae,{symbol:s.symbol,stockName:s.stockName})]})]})}B.render(e(Y.StrictMode,{children:e(Oe,{})}),document.getElementById("root"));
