var I=Object.defineProperty;var S=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var C=(s,t,a)=>t in s?I(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,g=(s,t)=>{for(var a in t||(t={}))j.call(t,a)&&C(s,a,t[a]);if(S)for(var a of S(t))A.call(t,a)&&C(s,a,t[a]);return s};import{j as e,T as U,r as o,a as c,R as q,L as O,C as M,Y as K,X as B,b as G,c as z,d as $,e as P,f as W,g as D,u as Y,h as V,i as E,k as H,l as X,B as J}from"./vendor.d4273615.js";const Q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}};Q();const Z=({x:s,y:t,payload:a,index:r})=>{if(!a||!t||!s||r===void 0)return null;let n=a.value.toFixed(1);switch(r){case 1:case 2:case 3:n="-";break;case 5:case 6:case 7:n="-";break;case 9:case 10:n="-";break}return e(U,{y:t+3.5,x:s,textAnchor:"end",fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto",dx:-2,children:n})},ee=s=>s.filter(a=>a.open>0),F=s=>{const[t,a]=o.exports.useState(),[r,n]=o.exports.useState();return o.exports.useEffect(()=>{(async()=>{const d=await fetch(s);d.ok||n(d.status);const h=await d.json();a(ee(h)),n(0)})()},[s]),[t,r]},te=s=>{const[t,a]=o.exports.useState(),[r,n]=o.exports.useState();return o.exports.useEffect(()=>{(async()=>{const d=await fetch(s);d.ok||n(d.status);const h=await d.json();a(h)})()},[s]),[t,r]};const se=()=>e("div",{className:"graph-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"100",height:"150","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"100",width:"20",x:"0",order:"0",speed:"0.8",className:"graph-one"}),e("rect",{type:"secondary",height:"100",width:"20",x:"25",order:"1",speed:"0.8",className:"graph-two"}),e("rect",{type:"secondary",height:"100",width:"20",x:"50",order:"2",speed:"0.8",className:"graph-three"}),e("rect",{type:"secondary",height:"100",width:"20",x:"75",order:"3",speed:"0.8",className:"graph-four"})]})})});const ae=()=>e("div",{className:"loading-fail",children:"Graph Data Not Available"}),re=({stockSymbol:s})=>{const t=`https://sandbox.iexapis.com/stable/stock/${s}/intraday-prices/?token=Tpk_095b8e5990924d0c8c41c2209556da53&chartInterval=5`,a=`https://sandbox.iexapis.com/stable/stock/${s}/chart/date/20211115?token=Tpk_095b8e5990924d0c8c41c2209556da53&chartInterval=5`,r=`https://sandbox.iexapis.com/stable/stock/${s}/previous/?token=Tpk_095b8e5990924d0c8c41c2209556da53`,[n,i]=F(t),[d,h]=F(a),[p]=te(r);return i||h?e(ae,{}):n?e("div",{className:"chart",children:e(q,{width:"100%",height:"100%",children:c(O,{children:[e(M,{stroke:"#d1d1d1",strokeWidth:.4,verticalFill:["#ffffff00","#ededed80"]}),e(K,{stroke:"#eaebeb",tickSize:10,tickCount:12,interval:"preserveStartEnd",allowDecimals:!0,domain:["auto","auto"],padding:{top:18},dx:-5,tick:e(Z,{})}),e(B,{stroke:"#eaebeb",tickSize:10,tickCount:12,tick:{fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto"},interval:5,allowDuplicatedCategory:!1,dataKey:"label",dy:5,textAnchor:"beginning"}),e(G,{contentStyle:{fontSize:14,borderColor:"#aaabd1",textAlign:"center",fontFamily:"Roboto"}}),e(z,{y:p==null?void 0:p.close,stroke:"#aaabd1",strokeDasharray:"5 3"}),e($,{hide:!1,name:"Close",data:n,dataKey:"close",stroke:"#aaabd1",strokeWidth:2,dot:!1,activeDot:{r:4}}),e($,{hide:!0,name:"Yesterday Close",data:d,dataKey:"close",stroke:"grey",strokeWidth:2,dot:!1,activeDot:{r:4}})]})})}):e(se,{})};const ne="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",ce=async s=>{const t=`https://sandbox.iexapis.com/stable/stock/${s}/news/last/3${ne}`;try{return await fetch(t).then(r=>r.json())}catch(a){console.error(a)}};P.extend(W);const oe=({stockSymbol:s})=>{const[t,a]=o.exports.useState([]);return o.exports.useEffect(()=>{let r=!0;return setTimeout(()=>{ce(s).then(n=>{r&&a(n)})},200),()=>{r=!1}},[s]),c("div",{className:"news-wrapper",children:[e("h3",{className:"news-title",children:"Latest News"}),t?t.map((r,n)=>c("div",{children:[c("div",{className:"news-container",children:[e("div",{className:"news-headline",children:e("a",{href:r.url,target:"_blank",rel:"noreferrer",children:r.headline})}),c("div",{className:"news-date","data-testid":"days-ago",children:[P(r.datetime).toNow(!0)," ago - ",r.source]})]}),e("div",{className:"lines"},n)]},n)):e("div",{className:"news-container",children:"Error fetching news"})]})};const R="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",ie=async s=>{const t=`https://sandbox.iexapis.com/stable/stock/${s}/quote/${R}`,a=`https://sandbox.iexapis.com/stable/stock/${s}/stats/${R}`;try{const r=await fetch(t).then(d=>d.json()),n=await fetch(a).then(d=>d.json());return g(g({},n),r)}catch(r){console.error(r)}},de=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1});function v(s){return de.formatToParts(s).map(({type:t,value:a})=>{switch(t){case"fraction":return`${a} `;default:return a}}).reduce((t,a)=>t+a)}const le=()=>e("div",{className:"key-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"100",height:"150","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"100",width:"20",x:"0",order:"0",speed:"0.8",className:"key-one"}),e("rect",{type:"secondary",height:"100",width:"20",x:"25",order:"1",speed:"0.8",className:"key-two"}),e("rect",{type:"secondary",height:"100",width:"20",x:"50",order:"2",speed:"0.8",className:"key-three"}),e("rect",{type:"secondary",height:"100",width:"20",x:"75",order:"3",speed:"0.8",className:"key-four"})]})})}),he=({stockSymbol:s})=>{var w;const[t,a]=o.exports.useState();if(o.exports.useEffect(()=>{let b=!0;return setTimeout(()=>{ie(s).then(_=>{b&&a(_)})},200),()=>{b=!1}},[s]),!t)return e(le,{});const{high:r,low:n,open:i,previousClose:d,week52High:h,week52Low:p,marketCap:m,peRatio:f,dividendYield:u,ttmEPS:l,isUSMarketOpen:Ke,volume:k,avgTotalVolume:N}=t;return c("div",{className:"stats-wrapper","data-testid":"statistics",children:[e("h2",{className:"stats-title",children:"Key Statistics"}),c("div",{className:"stats-container",children:[c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Open",e("span",{children:i?`$${i}`:"-"})]}),c("div",{className:"stats-row",children:["High",e("span",{children:r?`$${r}`:"-"})]}),c("div",{className:"stats-row",children:["Low",e("span",{children:n?`$${n}`:"-"})]}),c("div",{className:"stats-row",children:["Previous Close",e("span",{children:`$${d}`})]})]}),c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Day Range",e("span",{children:r?`$${r} - ${n}`:"-"})]}),c("div",{className:"stats-row",children:["52 Week Range",e("span",{children:`$${p} - ${h}`})]}),c("div",{className:"stats-row",children:["Market Cap",e("span",{children:(w=v(m))!=null?w:"-"})]}),c("div",{className:"stats-row",children:["P/E Ratio",e("span",{children:f})]})]}),c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Dividend Yield",e("span",{children:u?`${u==null?void 0:u.toFixed(2)}%`:"-"})]}),c("div",{className:"stats-row",children:["Earnings Per Share",e("span",{children:l?`${l==null?void 0:l.toFixed(2)}`:"-"})]}),c("div",{className:"stats-row",children:["Volume",e("span",{children:k?v(k):"-"})]}),c("div",{className:"stats-row",children:["Total Avg. Volume",e("span",{children:N?v(N):"-"})]})]})]})]})},pe="sandbox_c5rtke2ad3ibf61ruc9g",ue=async s=>{const t=`https://finnhub.io/api/v1/stock/peers?symbol=${s}&token=${pe}`;try{return await fetch(t).then(r=>r.json())}catch(a){console.error(a)}};const me=({stockSymbol:s})=>{const[t,a]=o.exports.useState([]);return o.exports.useEffect(()=>{let r=!0;return ue(s).then(n=>{r&&a(n)}),()=>{r=!1}},[s]),c("div",{className:"peers-wrapper",children:[e("h2",{className:"peers-title",children:"Top Peers"}),e("div",{className:"peers-container",children:t==null?void 0:t.map((r,n)=>e(D,{to:`/${r}`,children:e("button",{className:"peer",children:r})},n))})]})};const fe="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",ge=async s=>{const t=`https://sandbox.iexapis.com/stable/stock/${s}/company${fe}`;try{return await fetch(t).then(r=>r.json())}catch(a){console.error(a)}},xe=({stockSymbol:s})=>{var r,n,i,d;const[t,a]=o.exports.useState();return o.exports.useEffect(()=>{let h=!0;return setTimeout(()=>{ge(s).then(p=>{h&&a(p)})},100),()=>{h=!1}},[s]),c("div",{className:"summary-container",children:[e("h2",{className:"summary-title",children:"Company Summary"}),c("h3",{className:"company-name",children:[(r=t==null?void 0:t.companyName)!=null?r:"Error fetching name"," (",(n=t==null?void 0:t.symbol)!=null?n:"Error fetching symbol",")"]}),e("a",{className:"company-link",target:"_blank",rel:"noreferrer",href:t==null?void 0:t.website,children:(i=t==null?void 0:t.website)!=null?i:"Error fetching link"}),e("p",{className:"company-summary",children:(d=t==null?void 0:t.description.substring(0,500))!=null?d:"Description is not available"}),e("div",{className:"summary-line"})]})},y="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",ve=`https://sandbox.iexapis.com/stable/stock/SPY/quote/${y}`,ye=`https://sandbox.iexapis.com/stable/stock/DIA/quote/${y}`,ke=`https://sandbox.iexapis.com/stable/stock/IWM/quote/${y}`,Ne=async()=>{const s=await fetch(ve);if(!s.ok)return{error:!0,indexPrice:0,indexChange:0,indexPercentChange:0};const t=await s.json();return{error:!1,indexPrice:t.latestPrice.toFixed(2),indexChange:t.change.toFixed(2),indexPercentChange:t.changePercent.toFixed(2)}},we=async()=>{const s=await fetch(ye);if(!s.ok)return{error:!0,indexPrice:0,indexChange:0,indexPercentChange:0};const t=await s.json();return{error:!1,indexPrice:t.latestPrice.toFixed(2),indexChange:t.change.toFixed(2),indexPercentChange:t.changePercent.toFixed(2)}},be=async()=>{const s=await fetch(ke);if(!s.ok)return{error:!0,indexPrice:0,indexChange:0,indexPercentChange:0};const t=await s.json();return{error:!1,indexPrice:t.latestPrice.toFixed(2),indexChange:t.change.toFixed(2),indexPercentChange:t.changePercent.toFixed(2)}};const Se=()=>e("div",{className:"fte-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"55",height:"75","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"40",width:"10",x:"0",order:"0",speed:"0.8",className:"index-one"}),e("rect",{type:"secondary",height:"40",width:"10",x:"12",order:"1",speed:"0.8",className:"index-two"}),e("rect",{type:"secondary",height:"40",width:"10",x:"24",order:"2",speed:"0.8",className:"index-three"}),e("rect",{type:"secondary",height:"40",width:"10",x:"36",order:"3",speed:"0.8",className:"index-four"})]})})});const Ce=()=>e("div",{className:"fte-error",children:"Indexes Not Available"}),$e=()=>{const[s,t]=o.exports.useState(),[a,r]=o.exports.useState(),[n,i]=o.exports.useState(),[d,h]=o.exports.useState(!1),[p,m]=o.exports.useState(!1),[f,u]=o.exports.useState(!1);return o.exports.useEffect(()=>{Ne().then(l=>{l.error?h(!0):(h(!1),t(l))}),we().then(l=>{l.error?m(!0):(m(!1),r(l))}),be().then(l=>{l.error?u(!0):(u(!1),i(l))})},[]),d||p||f?e(Ce,{}):!s||!a||!n?e(Se,{}):e("div",{className:"fte",children:e("table",{children:e("tbody",{children:c("tr",{children:[c("td",{className:"name",children:[e("span",{className:"index-name",children:"SPY"})," $",s.indexPrice]}),c("td",{className:s.indexChange>0?"positiveChange":"negativeChange",children:[s.indexChange>0?"\u2191":"\u2193"," ",s.indexChange," | ",s.indexPercentChange,"%"]}),c("td",{className:"name",children:[e("span",{className:"index-name",children:"DIA"})," $",a.indexPrice]}),c("td",{className:a.indexChange>0?"positiveChange":"negativeChange",children:[a.indexChange>0?"\u2191":"\u2193"," ",a.indexChange," | ",a.indexPercentChange,"%"]}),c("td",{className:"name",children:[e("span",{className:"index-name",children:"IWM"})," $",n.indexPrice]}),c("td",{className:n.indexChange>0?"positiveChange":"negativeChange",children:[n.indexChange>0?"\u2191":"\u2193"," ",n.indexChange," | ",n.indexPercentChange,"%"]})]})})})})};const L=o.exports.createContext({setSelectedResult:()=>{}}),x=o.exports.createContext({stocks:[],stockSearch:"",setStockSearch:()=>{}}),Pe=({symbol:s,stockName:t})=>{const{setSelectedResult:a}=o.exports.useContext(L),{stockSearch:r,setStockSearch:n}=o.exports.useContext(x),i=(h,p=0)=>{const m=new RegExp(r,"gi"),f=h.match(m),u=f?f.toString():"",l=h.substring(u.length);return c("span",{children:[e("strong",{className:"black",children:u}),l," "]},p)},d=()=>{a(t),n("")};return e("div",{children:e(D,{to:`/${s}`,onMouseDown:h=>h.preventDefault(),children:c("div",{className:"stock-suggested",onClick:d,children:[i(s)," - ",t.split(" ").map(i)]})})})},De=({market:s})=>{const{stocks:t}=o.exports.useContext(x);return c("div",{children:[e("div",{className:"market-name",children:s}),t==null?void 0:t.map((a,r)=>e(Pe,{symbol:a.symbol,stockName:a.name},r))]})},Ee=()=>{const{stocks:s}=o.exports.useContext(x);return e("div",{className:"suggestion-panel",children:(s==null?void 0:s.length)===0?e("div",{className:"no-result-label",children:"No results found"}):e(De,{market:"Stocks"})})},Fe="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",Re=(s,t)=>{const a=`https://sandbox.iexapis.com/stable/search/${t}/${Fe}`;fetch(a).then(r=>r.json()).then(r=>{s(r)}).catch(r=>{s([]),console.log(r)})},T=({style:s={},currentResult:t})=>{const[a,r]=o.exports.useState(null),[n,i]=o.exports.useState(""),[d,h]=o.exports.useState(!1),p=o.exports.useRef(null);o.exports.useEffect(()=>{var l;(l=p.current)==null||l.blur()},[t]),o.exports.useEffect(()=>{d||i("")},[d]),o.exports.useEffect(()=>{n?Re(r,n):r(null)},[n]);const m=l=>{i(l.target.value)},f=()=>{h(!0)},u=()=>{h(!1)};return c("div",{className:"search-wrapper",style:g({},s),children:[e("input",{type:"text",ref:p,onFocus:f,onBlur:u,onChange:m,value:d?n:t,placeholder:"Enter a stock, symbol or currency"}),e(x.Provider,{value:{stocks:a,stockSearch:n,setStockSearch:i},children:a&&n&&d&&e(Ee,{})})]})};const Le=()=>e("div",{className:"live-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"40",height:"50","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"30",width:"8",x:"0",order:"0",speed:"0.8",className:"live-one"}),e("rect",{type:"secondary",height:"30",width:"8",x:"10",order:"1",speed:"0.8",className:"live-two"}),e("rect",{type:"secondary",height:"30",width:"8",x:"20",order:"2",speed:"0.8",className:"live-three"}),e("rect",{type:"secondary",height:"30",width:"8",x:"30",order:"3",speed:"0.8",className:"live-four"})]})})});const Te=()=>e("div",{className:"live-price-error",children:"Price Not Available"}),_e=({stockSymbol:s})=>{const[t,a]=o.exports.useState(),[r,n]=o.exports.useState(),[i,d]=o.exports.useState(),[h,p]=o.exports.useState(!1);return o.exports.useEffect(()=>{const m=new EventSource(`https://sandbox-sse.iexapis.com/stable/stocksUS1second?token=Tpk_095b8e5990924d0c8c41c2209556da53&symbols=${s}`),f=u=>{const l=u[0];a(l.latestPrice),n(l.change),d(l.changePercent)};return m.onmessage=u=>{p(!1),f(JSON.parse(u.data))},m.onerror=()=>{p(!0),m.close()},()=>{m.close()}},[s]),h?e(Te,{}):!t||!r?e(Le,{}):c("div",{className:"live-container",children:[c("div",{className:"live-price",children:["$",t==null?void 0:t.toFixed(2)]}),c("div",{className:r>0?"price-change-positive":"price-change-negative",children:[r>0?"\u2191":"\u2193"," ",r==null?void 0:r.toFixed(2)," | ",i==null?void 0:i.toFixed(2),"%"]})]})},Ie=({stockName:s})=>{const{stock:t}=Y();return c("div",{className:"dashboard",children:[c("div",{className:"main-section",children:[c("div",{className:"search-live",children:[e(T,{currentResult:`${t} - ${s}`,style:{marginTop:"40px"}}),e(_e,{stockSymbol:t})]}),e(re,{stockSymbol:t}),e(he,{stockSymbol:t}),e($e,{})]}),c("div",{className:"right-sidebar",children:[e(oe,{stockSymbol:t}),e(xe,{stockSymbol:t}),e(me,{stockSymbol:t})]})]})};const je=()=>e("div",{className:"search",children:e(T,{currentResult:"",style:{}})}),Ae=({completed:s})=>{const t={height:"4px",width:"231px",backgroundColor:"#e0e0de",borderRadius:50},a={height:"100%",width:`${s}%`,backgroundColor:" var(--core-primary-2)",borderRadius:"inherit"};return e("div",{style:t,children:e("div",{style:a})})};var Ue="/stock-tracker-turing/assets/ra-logo.612be723.png";const qe=({completed:s})=>c("div",{className:s===100?"splash-screen-short":"splash-screen",children:[e("img",{src:Ue,className:s===100?"":"logo",alt:"deneme"}),s===100?null:e(Ae,{completed:s})]});const Oe=()=>{const[s,t]=o.exports.useState(0);return o.exports.useEffect(()=>{if(s<100){const a=setInterval(()=>{t(r=>r+1)},10);return()=>{clearInterval(a)}}},[s]),c("div",{className:"homepage",children:[e(qe,{completed:s}),s===100&&e(je,{})]})};function Me(){const[s,t]=o.exports.useState("");return e("div",{className:"app",children:e(L.Provider,{value:{setSelectedResult:t},children:c(V,{children:[e(E,{path:"/",element:e(Oe,{})}),e(E,{path:":stock",element:e(Ie,{stockName:s})})]})})})}console.log("/stock-tracker-turing/");H.render(e(X.StrictMode,{children:e(J,{basename:"/stock-tracker-turing/",children:e(Me,{})})}),document.getElementById("root"));
