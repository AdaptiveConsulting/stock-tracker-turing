var R=Object.defineProperty;var C=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var $=(t,s,a)=>s in t?R(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,x=(t,s)=>{for(var a in s||(s={}))_.call(s,a)&&$(t,a,s[a]);if(C)for(var a of C(s))A.call(s,a)&&$(t,a,s[a]);return t};import{j as e,a as c,r as i,F as I,T as U,R as j,L as O,C as M,Y as q,X as K,b as G,c as z,d as P,e as D,f as B,g as V,h as W}from"./vendor.073ccb2b.js";const Y=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}};Y();const H=({completed:t})=>{const s={height:"4px",width:"231px",backgroundColor:"#e0e0de",borderRadius:50},a={height:"100%",width:`${t}%`,backgroundColor:" var(--core-primary-2)",borderRadius:"inherit"};return e("div",{style:s,children:e("div",{style:a})})};var X="./assets/ra-logo.612be723.png";const J=({completed:t})=>c("div",{className:t===100?"splash-screen-short":"splash-screen",children:[e("img",{src:X,className:t===100?"":"logo",alt:"deneme"}),t===100?null:e(H,{completed:t})]});const v=i.exports.createContext({setSelectedResult:()=>{}}),g=i.exports.createContext({stocks:[],stockSearch:"",setStockSearch:()=>{}}),Q=({symbol:t,stockName:s})=>{const{setSelectedResult:a}=i.exports.useContext(v),{stockSearch:r,setStockSearch:n}=i.exports.useContext(g),o=(l,p=0)=>{const m=new RegExp(r,"gi"),f=l.match(m),u=f?f.toString():"",h=l.substring(u.length);return c("span",{children:[e("strong",{className:"black",children:u}),h," "]},p)};return e("div",{children:c("div",{className:"stock-suggested",onClick:()=>{a({symbol:t,stockName:s}),n(`${t} - ${s}`)},children:[o(t)," - ",s.split(" ").map(o)]})})},Z=({market:t})=>{const{stocks:s}=i.exports.useContext(g);return c("div",{children:[e("div",{className:"market-name",children:t}),s==null?void 0:s.map((a,r)=>e(Q,{symbol:a.symbol,stockName:a.name},r))]})},ee=()=>{const{stocks:t}=i.exports.useContext(g);return e("div",{className:"suggestion-panel",children:(t==null?void 0:t.length)===0?e("div",{className:"no-result-label",children:"No results found"}):e(Z,{market:"Stocks"})})},te=(t,s)=>{const a=`https://sandbox.iexapis.com/stable/search/${s}/?token=Tpk_4171507c85734b4f824fe5b208d9c1e2`;fetch(a).then(r=>r.json()).then(r=>{t(r)}).catch(r=>{t([]),console.log(r)})},E=({style:t={},currentResult:s})=>{const[a,r]=i.exports.useState(null),[n,o]=i.exports.useState(s),[d,l]=i.exports.useState(!1);i.exports.useEffect(()=>{o(d?"":s)},[d]),i.exports.useEffect(()=>{n?te(r,n):r(null)},[n]);const p=u=>{o(u.target.value)},m=()=>{l(!0)},f=()=>{setTimeout(()=>{l(!1)},150)};return e("div",{className:"search-wrapper",style:x({},t),children:c(I,{children:[e("input",{type:"text",onFocus:m,onBlur:f,onChange:p,value:n,placeholder:"Enter a stock, symbol or currency"}),e(g.Provider,{value:{stocks:a,stockSearch:n,setStockSearch:o},children:a&&n&&d&&e(ee,{})})]})})},se=()=>e("div",{className:"search",children:e(E,{currentResult:"",style:{}})}),ae=({x:t,y:s,payload:a})=>{let r="-";return!a||!s||!t?null:(Math.floor(a.value)%2==0&&(r=Math.floor(a.value)),e(U,{y:s+3.5,x:t,textAnchor:"end",fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto",dx:-2,children:r}))},re=t=>t.filter(a=>a.open>0),F=t=>{const[s,a]=i.exports.useState(),[r,n]=i.exports.useState();return i.exports.useEffect(()=>{(async()=>{const d=await fetch(t);d.ok||n(d.status);const l=await d.json();a(re(l)),n(0)})()},[t]),[s,r]},ne=t=>{const[s,a]=i.exports.useState(),[r,n]=i.exports.useState();return i.exports.useEffect(()=>{(async()=>{const d=await fetch(t);d.ok||n(d.status);const l=await d.json();a(l)})()},[t]),[s,r]};const ce=()=>e("div",{className:"graph-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"100",height:"150","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"100",width:"20",x:"0",order:"0",speed:"0.8",className:"graph-one"}),e("rect",{type:"secondary",height:"100",width:"20",x:"25",order:"1",speed:"0.8",className:"graph-two"}),e("rect",{type:"secondary",height:"100",width:"20",x:"50",order:"2",speed:"0.8",className:"graph-three"}),e("rect",{type:"secondary",height:"100",width:"20",x:"75",order:"3",speed:"0.8",className:"graph-four"})]})})});const oe=()=>e("div",{className:"loading-fail",children:"Graph Data Not Available"}),ie=({stockSymbol:t})=>{const s=`https://sandbox.iexapis.com/stable/stock/${t}/intraday-prices/?token=Tpk_095b8e5990924d0c8c41c2209556da53&chartInterval=5`,a=`https://sandbox.iexapis.com/stable/stock/${t}/chart/date/20211110?token=Tpk_095b8e5990924d0c8c41c2209556da53&chartInterval=5`,r=`https://sandbox.iexapis.com/stable/stock/${t}/previous/?token=Tpk_095b8e5990924d0c8c41c2209556da53`,[n,o]=F(s),[d,l]=F(a),[p]=ne(r);return o||l?e(oe,{}):n?e("div",{className:"chart",children:e(j,{width:"100%",height:"100%",children:c(O,{children:[e(M,{stroke:"#e0e0e0",strokeWidth:.6,verticalFill:["#ffffff00","#ededed80"]}),e(q,{stroke:"#eaebeb",tickSize:10,interval:"preserveStartEnd",allowDecimals:!1,domain:["dataMin-1","auto"],padding:{top:20},dx:-5,tick:e(ae,{})}),e(K,{stroke:"#eaebeb",tickSize:10,tick:{fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto"},interval:4,allowDuplicatedCategory:!1,dataKey:"label",dy:5,textAnchor:"beginning"}),e(G,{contentStyle:{fontSize:14,borderColor:"#aaabd1",textAlign:"center",fontFamily:"Roboto"}}),e(z,{y:p==null?void 0:p.close,stroke:"#aaabd1",strokeDasharray:"5 3"}),e(P,{hide:!1,name:"Open",data:n,dataKey:"open",stroke:"#aaabd1",strokeWidth:2,dot:!1,activeDot:{r:4}}),e(P,{hide:!0,name:"Yesterday Open",data:d,dataKey:"open",stroke:"grey",strokeWidth:2,dot:!1,activeDot:{r:4}})]})})}):e(ce,{})};const de="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",le=async t=>{const s=`https://sandbox.iexapis.com/stable/stock/${t}/news/last/3${de}`;try{return await fetch(s).then(r=>r.json())}catch(a){console.error(a)}};D.extend(B);const he=({stockSymbol:t})=>{const[s,a]=i.exports.useState([]);return i.exports.useEffect(()=>{let r=!0;return setTimeout(()=>{le(t).then(n=>{r&&a(n)})},200),()=>{r=!1}},[t]),c("div",{className:"news-wrapper",children:[e("h3",{className:"news-title",children:"Latest News"}),s?s.map((r,n)=>c("div",{className:"news-container",children:[e("div",{className:"news-headline",children:e("a",{href:r.url,children:r.headline})}),c("div",{className:"news-date","data-testid":"days-ago",children:[D(r.datetime).toNow(!0)," ago - ",r.source]})]},n)):e("div",{className:"news-container",children:"Error fetching news"})]})};const T="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",pe=async t=>{const s=`https://sandbox.iexapis.com/stable/stock/${t}/quote/${T}`,a=`https://sandbox.iexapis.com/stable/time-series/FUNDAMENTAL_VALUATIONS/${t}/${T}`;try{const r=await fetch(s).then(d=>d.json()),n=await fetch(a).then(d=>d.json());return x(x({},n[0]),r)}catch(r){console.error(r)}},ue=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1});function y(t){return ue.formatToParts(t).map(({type:s,value:a})=>{switch(s){case"fraction":return`${a} `;default:return a}}).reduce((s,a)=>s+a)}const me=()=>e("div",{className:"key-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"100",height:"150","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"100",width:"20",x:"0",order:"0",speed:"0.8",className:"key-one"}),e("rect",{type:"secondary",height:"100",width:"20",x:"25",order:"1",speed:"0.8",className:"key-two"}),e("rect",{type:"secondary",height:"100",width:"20",x:"50",order:"2",speed:"0.8",className:"key-three"}),e("rect",{type:"secondary",height:"100",width:"20",x:"75",order:"3",speed:"0.8",className:"key-four"})]})})}),fe=({stockSymbol:t})=>{var b;const[s,a]=i.exports.useState();if(i.exports.useEffect(()=>{let S=!0;return setTimeout(()=>{pe(t).then(L=>{S&&a(L)})},200),()=>{S=!1}},[t]),!s)return e(me,{});const{high:r,low:n,open:o,previousClose:d,week52High:l,week52Low:p,marketCap:m,peRatio:f,dividendYield:u,incomeNetPerWabsoSplitAdjusted:h,isUSMarketOpen:Ie,volume:w,avgTotalVolume:k}=s;return c("div",{className:"stats-wrapper","data-testid":"statistics",children:[e("h2",{className:"stats-title",children:"Key Statistics"}),c("div",{className:"stats-container",children:[c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Open",e("span",{children:o?`$${o}`:"-"})]}),c("div",{className:"stats-row",children:["High",e("span",{children:r?`$${r}`:"-"})]}),c("div",{className:"stats-row",children:["Low",e("span",{children:n?`$${n}`:"-"})]}),c("div",{className:"stats-row",children:["Previous Close",e("span",{children:`$${d}`})]})]}),c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Day Range",e("span",{children:r?`$${r} - ${n}`:"-"})]}),c("div",{className:"stats-row",children:["52 Week Range",e("span",{children:`$${p} - ${l}`})]}),c("div",{className:"stats-row",children:["Market Cap",e("span",{children:(b=y(m))!=null?b:"-"})]}),c("div",{className:"stats-row",children:["P/E Ratio",e("span",{children:f})]})]}),c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Dividend Yield",e("span",{children:u?`${u==null?void 0:u.toFixed(2)}%`:"-"})]}),c("div",{className:"stats-row",children:["Earnings Per Share",e("span",{children:h?`${h==null?void 0:h.toFixed(2)}`:"-"})]}),c("div",{className:"stats-row",children:["Volume",e("span",{children:w?y(w):"-"})]}),c("div",{className:"stats-row",children:["Total Avg. Volume",e("span",{children:k?y(k):"-"})]})]})]})]})},xe="&token=sandbox_c5rtke2ad3ibf61ruc9g",ge=async t=>{const s=`https://finnhub.io/api/v1/stock/peers?symbol=${t}${xe}`;try{return await fetch(s).then(r=>r.json())}catch(a){console.error(a)}};const ve=({stockSymbol:t})=>{const[s,a]=i.exports.useState([]),{setSelectedResult:r}=i.exports.useContext(v);return i.exports.useEffect(()=>{let n=!0;return ge(t).then(o=>{n&&a(o)}),()=>{n=!1}},[t]),c("div",{className:"peers-wrapper",children:[e("h2",{className:"peers-title",children:"Top Peers"}),e("div",{className:"peers-container",children:s==null?void 0:s.map((n,o)=>e("button",{onClick:()=>r({symbol:n,stockName:""}),className:"peer",children:n},o))})]})};const ye="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",Ne=async t=>{const s=`https://sandbox.iexapis.com/stable/stock/${t}/company${ye}`;try{return await fetch(s).then(r=>r.json())}catch(a){console.error(a)}},we=({stockSymbol:t})=>{var r,n,o,d;const[s,a]=i.exports.useState();return i.exports.useEffect(()=>{let l=!0;return setTimeout(()=>{Ne(t).then(p=>{l&&a(p)})},100),()=>{l=!1}},[t]),c("div",{className:"summary-container",children:[e("h2",{className:"summary-title",children:"Company Summary"}),c("h3",{className:"company-name",children:[(r=s==null?void 0:s.companyName)!=null?r:"Error fetching name"," (",(n=s==null?void 0:s.symbol)!=null?n:"Error fetching symbol",")"]}),e("a",{className:"company-link",href:"/",children:(o=s==null?void 0:s.website)!=null?o:"Error fetching link"}),e("p",{className:"company-summary",children:(d=s==null?void 0:s.description.substring(0,500))!=null?d:"Description is not available"})]})},N="Tpk_095b8e5990924d0c8c41c2209556da53",ke=`https://sandbox.iexapis.com/stable/stock/SPY/quote/?token=${N}`,be=`https://sandbox.iexapis.com/stable/stock/DIA/quote/?token=${N}`,Se=`https://sandbox.iexapis.com/stable/stock/IWM/quote/?token=${N}`,Ce=async()=>{const t=await fetch(ke);if(!t.ok)return{error:!0,indexPrice:0,indexChange:0,indexPercentChange:0};const s=await t.json();return{error:!1,indexPrice:s.latestPrice.toFixed(2),indexChange:s.change.toFixed(2),indexPercentChange:s.changePercent.toFixed(2)}},$e=async()=>{const t=await fetch(be);if(!t.ok)return{error:!0,indexPrice:0,indexChange:0,indexPercentChange:0};const s=await t.json();return{error:!1,indexPrice:s.latestPrice.toFixed(2),indexChange:s.change.toFixed(2),indexPercentChange:s.changePercent.toFixed(2)}},Pe=async()=>{const t=await fetch(Se);if(!t.ok)return{error:!0,indexPrice:0,indexChange:0,indexPercentChange:0};const s=await t.json();return{error:!1,indexPrice:s.latestPrice.toFixed(2),indexChange:s.change.toFixed(2),indexPercentChange:s.changePercent.toFixed(2)}};const De=()=>e("div",{className:"fte-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"55",height:"75","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"40",width:"10",x:"0",order:"0",speed:"0.8",className:"index-one"}),e("rect",{type:"secondary",height:"40",width:"10",x:"12",order:"1",speed:"0.8",className:"index-two"}),e("rect",{type:"secondary",height:"40",width:"10",x:"24",order:"2",speed:"0.8",className:"index-three"}),e("rect",{type:"secondary",height:"40",width:"10",x:"36",order:"3",speed:"0.8",className:"index-four"})]})})});const Ee=()=>e("div",{className:"fte-error",children:"Indexes Not Available"}),Fe=()=>{const[t,s]=i.exports.useState(),[a,r]=i.exports.useState(),[n,o]=i.exports.useState(),[d,l]=i.exports.useState(!1),[p,m]=i.exports.useState(!1),[f,u]=i.exports.useState(!1);return i.exports.useEffect(()=>{Ce().then(h=>{h.error?l(!0):(l(!1),s(h))}),$e().then(h=>{h.error?m(!0):(m(!1),r(h))}),Pe().then(h=>{h.error?u(!0):(u(!1),o(h))})},[]),d||p||f?e(Ee,{}):!t||!a||!n?e(De,{}):e("div",{className:"fte",children:e("table",{children:e("tbody",{children:c("tr",{children:[c("td",{className:"name",children:[e("span",{className:"index-name",children:"SPY"})," $",t.indexPrice]}),c("td",{className:t.indexChange>0?"positiveChange":"negativeChange",children:[t.indexChange>0?"\u2191":"\u2193"," ",t.indexChange," | ",t.indexPercentChange,"%"]}),c("td",{className:"name",children:[e("span",{className:"index-name",children:"DIA"})," $",a.indexPrice]}),c("td",{className:a.indexChange>0?"positiveChange":"negativeChange",children:[a.indexChange>0?"\u2191":"\u2193"," ",a.indexChange," | ",a.indexPercentChange,"%"]}),c("td",{className:"name",children:[e("span",{className:"index-name",children:"IWM"})," $",n.indexPrice]}),c("td",{className:n.indexChange>0?"positiveChange":"negativeChange",children:[n.indexChange>0?"\u2191":"\u2193"," ",n.indexChange," | ",n.indexPercentChange,"%"]})]})})})})};const Te=()=>e("div",{className:"live-loading",children:e("span",{children:c("svg",{fill:"#27578c",width:"40",height:"50","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"30",width:"8",x:"0",order:"0",speed:"0.8",className:"live-one"}),e("rect",{type:"secondary",height:"30",width:"8",x:"10",order:"1",speed:"0.8",className:"live-two"}),e("rect",{type:"secondary",height:"30",width:"8",x:"20",order:"2",speed:"0.8",className:"live-three"}),e("rect",{type:"secondary",height:"30",width:"8",x:"30",order:"3",speed:"0.8",className:"live-four"})]})})});const Le=()=>e("div",{className:"live-price-error",children:"Price Not Available"}),Re=({stockSymbol:t})=>{const[s,a]=i.exports.useState(),[r,n]=i.exports.useState(),[o,d]=i.exports.useState(),[l,p]=i.exports.useState(!1);return i.exports.useEffect(()=>{const m=new EventSource(`https://sandbox-sse.iexapis.com/stable/stocksUS1second?token=Tpk_095b8e5990924d0c8c41c2209556da53&symbols=${t}`),f=u=>{const h=u[0];a(h.latestPrice),n(h.change),d(h.changePercent)};return m.onmessage=u=>{p(!1),f(JSON.parse(u.data))},m.onerror=()=>{p(!0),m.close()},()=>{m.close()}},[t]),l?e(Le,{}):!s||!r?e(Te,{}):c("div",{className:"live-container",children:[c("div",{className:"live-price",children:["$",s==null?void 0:s.toFixed(2)]}),c("div",{className:r>0?"price-change-positive":"price-change-negative",children:[r>0?"\u2191":"\u2193"," ",r==null?void 0:r.toFixed(2)," | ",o==null?void 0:o.toFixed(2),"%"]})]})},_e=({symbol:t,stockName:s})=>c("div",{className:"dashboard",children:[c("div",{className:"main-section",children:[c("div",{className:"search-live",children:[e(E,{currentResult:`${t} - ${s}`,style:{marginTop:"4vh"}}),e(Re,{stockSymbol:t})]}),e(ie,{stockSymbol:t}),e(fe,{stockSymbol:t}),e(Fe,{})]}),c("div",{className:"right-sidebar",children:[e(he,{stockSymbol:t}),e(we,{stockSymbol:t}),e(ve,{stockSymbol:t})]})]});function Ae(){const[t,s]=i.exports.useState(),[a,r]=i.exports.useState(0);return i.exports.useEffect(()=>{if(a<100){const n=setInterval(()=>{r(o=>o+1)},10);return()=>{clearInterval(n)}}},[a]),c("div",{className:"app",children:[e(J,{completed:a}),c(v.Provider,{value:{setSelectedResult:s},children:[a===100&&!t&&e(se,{}),t&&e(_e,{symbol:t.symbol,stockName:t.stockName})]})]})}V.render(e(W.StrictMode,{children:e(Ae,{})}),document.getElementById("root"));
