var F=Object.defineProperty;var w=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var C=(e,t,s)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,f=(e,t)=>{for(var s in t||(t={}))L.call(t,s)&&C(e,s,t[s]);if(w)for(var s of w(t))j.call(t,s)&&C(e,s,t[s]);return e};import{j as a,a as c,r as o,T as A,L as I,C as _,Y as O,X as M,b as U,R as q,c as $,d as P,e as K,f as Y,g as z}from"./vendor.8d1638d1.js";const V=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerpolicy&&(l.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?l.credentials="include":r.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}};V();const W=({completed:e})=>{const t={height:"4px",width:"231px",backgroundColor:"#e0e0de",borderRadius:50},s={height:"100%",width:`${e}%`,backgroundColor:" var(--core-primary-2)",borderRadius:"inherit"};return a("div",{style:t,children:a("div",{style:s})})};var G="./assets/ra-logo.612be723.png";const B=({completed:e})=>c("div",{className:e===100?"splash-screen-short":"splash-screen",children:[a("img",{src:G,className:e===100?"":"logo",alt:""}),e===100?null:a(W,{completed:e})]});const k=o.exports.createContext({setSelectedResult:()=>{}}),x=o.exports.createContext({stocks:[],stockSearch:"",setStockSearch:()=>{}}),H=({symbol:e,stockName:t})=>{const{setSelectedResult:s}=o.exports.useContext(k),{stockSearch:n,setStockSearch:r}=o.exports.useContext(x),l=(d,g=0)=>{const v=new RegExp(n,"gi"),p=d.match(v),h=p?p.toString():"",u=d.substring(h.length);return c("span",{children:[a("strong",{className:"black",children:h}),u," "]},g)};return a("div",{children:c("div",{className:"stock-suggested",onClick:()=>{s(e),r("")},children:[l(e)," - ",t.split(" ").map(l)]})})},X=({market:e})=>{const{stocks:t}=o.exports.useContext(x);return c("div",{children:[a("div",{className:"market-name",children:e}),t==null?void 0:t.map((s,n)=>a(H,{symbol:s.symbol,stockName:s.name},n))]})},Q=()=>{const{stocks:e}=o.exports.useContext(x);return a("div",{className:"suggestion-panel",children:(e==null?void 0:e.length)===0?a("div",{className:"no-result-label",children:"No results found"}):a(X,{market:"Stocks"})})},J=(e,t)=>{const s=`https://sandbox.iexapis.com/stable/search/${t}/?token=Tpk_4171507c85734b4f824fe5b208d9c1e2`;fetch(s).then(n=>n.json()).then(n=>{e(n)}).catch(n=>{e([]),console.log(n)})},T=({style:e={}})=>{const[t,s]=o.exports.useState(null),[n,r]=o.exports.useState("");o.exports.useEffect(()=>{n?J(s,n):s(null)},[n]);const l=i=>{r(i.target.value)};return c("div",{className:"search-wrapper",style:f({},e),children:[a("input",{type:"text",onChange:l,placeholder:"Enter a stock, symbol or currency"}),a(x.Provider,{value:{stocks:t,stockSearch:n,setStockSearch:r},children:t&&n&&a(Q,{})})]})},Z=()=>a("div",{className:"search",children:a(T,{style:{}})}),ee=({x:e,y:t,payload:s})=>{let n="-";return!s||!t||!e?null:(s.value%2==0&&(n=s.value),a(A,{y:t+3.5,x:e,textAnchor:"end",fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto",dx:-2,children:n}))};const te=({stockSymbol:e})=>{const[t,s]=o.exports.useState(),[n,r]=o.exports.useState(),[l,i]=o.exports.useState();return o.exports.useEffect(()=>{fetch(`https://sandbox.iexapis.com/stable/stock/${e}/intraday-prices/?token=Tpk_095b8e5990924d0c8c41c2209556da53&chartInterval=5`).then(d=>d.json()).then(d=>s(d))},[e]),o.exports.useEffect(()=>{fetch(`https://sandbox.iexapis.com/stable/stock/${e}/chart/date/20211027?token=Tpk_095b8e5990924d0c8c41c2209556da53&chartInterval=5`).then(d=>d.json()).then(d=>r(d))},[e]),o.exports.useEffect(()=>(fetch(`https://sandbox.iexapis.com/stable/stock/${e}/previous/?token=Tpk_095b8e5990924d0c8c41c2209556da53`).then(d=>d.json()).then(d=>i(d)),()=>{}),[e]),a("div",{className:"chart",children:c(I,{width:1100,height:550,children:[a(_,{stroke:"#eaebeb",strokeWidth:.6,verticalFill:["#ededed80","#ffffff00"]}),a(O,{stroke:"#eaebeb",tickSize:10,tickCount:12,interval:"preserveStartEnd",allowDecimals:!1,domain:["dataMin-1","auto"],padding:{top:18},dx:-5,tick:a(ee,{})}),a(M,{stroke:"#eaebeb",tickSize:10,tick:{fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto"},interval:5,allowDuplicatedCategory:!1,dataKey:"label",dy:5,textAnchor:"beginning"}),a(U,{contentStyle:{fontSize:14,borderColor:"#aaabd1",textAlign:"center",fontFamily:"Roboto"}}),a(q,{y:l==null?void 0:l.close,stroke:"#aaabd1",strokeDasharray:"5 3"}),a($,{hide:!1,name:"Open",data:n,dataKey:"open",stroke:"#aaabd1",strokeWidth:2,dot:!1,activeDot:{r:4}}),a($,{hide:!0,name:"Yesterday Open",data:n,dataKey:"open",stroke:"grey",strokeWidth:2,dot:!1,activeDot:{r:4}})]})})};const se="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",ae=async e=>{const t=`https://sandbox.iexapis.com/stable/stock/${e}/news/last/3${se}`;try{return await fetch(t).then(n=>n.json())}catch(s){console.error(s)}};P.extend(K);const ne=({stockSymbol:e})=>{const[t,s]=o.exports.useState([]);return o.exports.useEffect(()=>{let n=!0;return setTimeout(()=>{ae(e).then(r=>{n&&s(r)})},200),()=>{n=!1}},[e]),c("div",{className:"news-wrapper",children:[a("h3",{className:"news-title",children:"Latest News"}),t&&t.map((n,r)=>c("div",{className:"news-container",children:[a("div",{className:"news-headline",children:n.headline}),c("div",{className:"news-date",children:[P(n.datetime).toNow(!0)," ago - ",n.source]})]},r))]})};const D="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",re=async e=>{const t=`https://sandbox.iexapis.com/stable/stock/${e}/quote${D}`,s=`https://sandbox.iexapis.com/stable/time-series/FUNDAMENTAL_VALUATIONS/${e}/${D}`;try{const n=await fetch(t).then(i=>i.json()),r=await fetch(s).then(i=>i.json());return f(f({},n),r[0])}catch(n){console.error(n)}},ce=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1});function b(e){return ce.formatToParts(e).map(({type:t,value:s})=>{switch(t){case"fraction":return`${s} `;default:return s}}).reduce((t,s)=>t+s)}const oe=({stockSymbol:e})=>{var S;const[t,s]=o.exports.useState();if(o.exports.useEffect(()=>{let y=!0;return setTimeout(()=>{re(e).then(E=>{y&&s(E)})},300),()=>{y=!1}},[e]),!t)return null;const{high:n,low:r,open:l,previousClose:i,week52High:d,week52Low:g,marketCap:v,peRatio:p,dividendYield:h,incomeNetPerWabsoSplitAdjusted:u,isUSMarketOpen:m,volume:N,avgTotalVolume:R}=t;return c("div",{className:"stats-wrapper",children:[a("h2",{className:"stats-title",children:"Key Statistics"}),c("div",{className:"stats-container",children:[c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Open",a("span",{children:m?`$${l}`:"-"})]}),c("div",{className:"stats-row",children:["High",a("span",{children:m?`$${n}`:"-"})]}),c("div",{className:"stats-row",children:["Low",a("span",{children:m?`$${r}`:"-"})]}),c("div",{className:"stats-row",children:["Previous Close",a("span",{children:`$${i}`})]})]}),c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Day Range",a("span",{children:m?`$${n} - ${r}`:"-"})]}),c("div",{className:"stats-row",children:["52 Week Range",a("span",{children:`$${g} - ${d}`})]}),c("div",{className:"stats-row",children:["Market Cap",a("span",{children:(S=b(v))!=null?S:"-"})]}),c("div",{className:"stats-row",children:["P/E Ratio",a("span",{children:p})]})]}),c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Dividend Yield",a("span",{children:`${h==null?void 0:h.toFixed(2)}%`})]}),c("div",{className:"stats-row",children:["Earnings Per Share",a("span",{children:`${u==null?void 0:u.toFixed(2)}`})]}),c("div",{className:"stats-row",children:["Volume",a("span",{children:N?b(N):"-"})]}),c("div",{className:"stats-row",children:["Total Avg. Volume",a("span",{children:b(R)})]})]})]})]})},ie="&token=c5rtke2ad3ibf61ruc90",le=async e=>{const t=`https://finnhub.io/api/v1/stock/peers?symbol=${e}${ie}`;try{return await fetch(t).then(n=>n.json())}catch(s){console.error(s)}};const de=({stockSymbol:e})=>{const[t,s]=o.exports.useState([]),{setSelectedResult:n}=o.exports.useContext(k);return o.exports.useEffect(()=>{let r=!0;return le(e).then(l=>{r&&s(l)}),()=>{r=!1}},[e]),c("div",{className:"peers-wrapper",children:[a("h2",{className:"peers-title",children:"Top Peers"}),a("div",{className:"peers-container",children:t==null?void 0:t.map((r,l)=>a("button",{onClick:()=>n(r),className:"peer",children:r},l))})]})};const he="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",ue=async e=>{const t=`https://sandbox.iexapis.com/stable/stock/${e}/company${he}`;try{return await fetch(t).then(n=>n.json())}catch(s){console.error(s)}},pe=({stockSymbol:e})=>{const[t,s]=o.exports.useState();return o.exports.useEffect(()=>{let n=!0;return setTimeout(()=>{ue(e).then(r=>{n&&s(r)})},100),()=>{n=!1}},[e]),c("div",{className:"summary-container",children:[a("h2",{className:"summary-title",children:"Company Summary"}),c("h3",{className:"company-name",children:[t==null?void 0:t.companyName," (",t==null?void 0:t.symbol,")"]}),a("a",{className:"company-link",href:"/",children:t==null?void 0:t.website}),a("p",{className:"company-summary",children:t==null?void 0:t.description})]})};const me=()=>{const[e,t]=o.exports.useState(),[s,n]=o.exports.useState(),[r,l]=o.exports.useState();return o.exports.useEffect(()=>{fetch("https://sandbox.iexapis.com/stable/stock/SPY/quote/?token=Tpk_095b8e5990924d0c8c41c2209556da53").then(i=>i.json()).then(i=>{t(()=>({indexPrice:i.latestPrice,indexChange:i.change.toFixed(2),indexPercentChange:i.changePercent.toFixed(2)}))})},[]),o.exports.useEffect(()=>{fetch("https://sandbox.iexapis.com/stable/stock/DIA/quote/?token=Tpk_095b8e5990924d0c8c41c2209556da53").then(i=>i.json()).then(i=>{n(()=>({indexPrice:i.latestPrice,indexChange:i.change.toFixed(2),indexPercentChange:i.changePercent.toFixed(2)}))})},[]),o.exports.useEffect(()=>{fetch("https://sandbox.iexapis.com/stable/stock/IWM/quote/?token=Tpk_095b8e5990924d0c8c41c2209556da53").then(i=>i.json()).then(i=>{l(()=>({indexPrice:i.latestPrice,indexChange:i.change.toFixed(2),indexPercentChange:i.changePercent.toFixed(2)}))})},[]),!e||!s||!r?null:a("div",{className:"fte",children:a("table",{children:a("tbody",{children:c("tr",{children:[c("td",{className:"name",children:[a("span",{className:"index-name",children:"SPY"})," $",e.indexPrice]}),c("td",{className:e.indexChange>0?"positiveChange":"negativeChange",children:[e.indexChange>0?"\u2191":"\u2193"," ",e.indexChange," | ",e.indexPercentChange,"%"]}),c("td",{className:"name",children:[a("span",{className:"index-name",children:"DIA"})," $",s.indexPrice]}),c("td",{className:s.indexChange>0?"positiveChange":"negativeChange",children:[s.indexChange>0?"\u2191":"\u2193"," ",s.indexChange," | ",s.indexPercentChange,"%"]}),c("td",{className:"name",children:[a("span",{className:"index-name",children:"IWM"})," $",r.indexPrice]}),c("td",{className:r.indexChange>0?"positiveChange":"negativeChange",children:[r.indexChange>0?"\u2191":"\u2193"," ",r.indexChange," | ",r.indexPercentChange,"%"]})]})})})})},fe=({symbol:e})=>c("div",{className:"dashboard",children:[c("div",{className:"main-section",children:[a(T,{style:{margin:"4vh"}}),a(te,{stockSymbol:e}),a(oe,{stockSymbol:e}),a(me,{})]}),c("div",{className:"right-sidebar",children:[a(ne,{stockSymbol:e}),a(pe,{stockSymbol:e}),a(de,{stockSymbol:e})]})]});function xe(){const[e,t]=o.exports.useState(""),[s,n]=o.exports.useState(0);return o.exports.useEffect(()=>{if(s<100){const r=setInterval(()=>{n(l=>l+1)},10);return()=>{clearInterval(r)}}},[s]),c("div",{className:"app",children:[a(B,{completed:s}),c(k.Provider,{value:{setSelectedResult:t},children:[s===100&&!e&&a(Z,{}),e&&a(fe,{symbol:e})]})]})}Y.render(a(z.StrictMode,{children:a(xe,{})}),document.getElementById("root"));
