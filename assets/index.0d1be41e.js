var O=Object.defineProperty;var L=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var T=(t,a,s)=>a in t?O(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s,b=(t,a)=>{for(var s in a||(a={}))G.call(a,s)&&T(t,s,a[s]);if(L)for(var s of L(a))B.call(a,s)&&T(t,s,a[s]);return t};import{j as e,T as W,a as o,r as d,R as z,L as H,C as Y,Y as V,X,b as J,c as Q,d as F,e as R,f as Z,g as _,h as A,u as ee,i as te,k as se,l as I,m as ae,B as re}from"./vendor.cb9a6b20.js";const ne=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerpolicy&&(c.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?c.credentials="include":r.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(r){if(r.ep)return;r.ep=!0;const c=s(r);fetch(r.href,c)}};ne();const oe=({x:t,y:a,payload:s,index:n})=>{if(!s||!a||!t||n===void 0)return null;let r=s.value.toFixed(2);switch(n){case 1:case 2:case 3:r="-";break;case 5:case 6:case 7:r="-";break;case 9:case 10:r="-";break}return e(W,{y:a+3.5,x:t,textAnchor:"end",fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto",dx:-2,children:r})};const ce=()=>e("div",{className:"graph-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"78",height:"115","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"80",width:"15",x:"0",order:"0",speed:"0.8",className:"graph-one"}),e("rect",{type:"secondary",height:"80",width:"15",x:"20",order:"1",speed:"0.8",className:"graph-two"}),e("rect",{type:"secondary",height:"80",width:"15",x:"40",order:"2",speed:"0.8",className:"graph-three"}),e("rect",{type:"secondary",height:"80",width:"15",x:"60",order:"3",speed:"0.8",className:"graph-four"})]})})});const ie=()=>e("div",{className:"loading-fail",children:"Graph Data Not Available"}),de=t=>{const[a,s]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const i=await fetch(t);i.ok||(r(!0),console.error(i));const l=await i.json();r(!1),s(l)})()},400)},[t]),[a,n]},q=t=>{const[a,s]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{(async()=>{const i=await fetch(t);i.ok||(r(!0),console.error(i));const l=await i.json();r(!1),s(l)})()},[t]),[a,n]},U=t=>t.filter(s=>s.close>0),le=({stockSymbol:t})=>{const a="?token=Tpk_095b8e5990924d0c8c41c2209556da53",s=`https://sandbox.iexapis.com/stable/stock/${t}/intraday-prices/${a}&chartInterval=5`,n=`https://sandbox.iexapis.com/stable/stock/${t}/chart/date/20211117${a}&chartInterval=5`,r=`https://sandbox.iexapis.com/stable/stock/${t}/previous/${a}`,[c,i]=q(s),[l,u]=q(n),[h]=de(r);return i||u?e(ie,{}):!c||!l?e(ce,{}):e("div",{className:"chart",children:e(z,{width:"100%",height:"100%",children:o(H,{children:[e(Y,{stroke:"#d1d1d1",strokeWidth:.4,verticalFill:["#ffffff00","#ededed80"]}),e(V,{stroke:"#eaebeb",tickSize:10,tickCount:12,interval:"preserveEnd",allowDecimals:!0,domain:["auto","auto"],padding:{top:18},dx:-5,tick:e(oe,{})}),e(X,{stroke:"#eaebeb",tickSize:10,tickCount:12,tick:{fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto"},interval:5,allowDuplicatedCategory:!1,dataKey:"label",dy:5,textAnchor:"beginning"}),e(J,{contentStyle:{fontSize:14,borderColor:"#aaabd1",textAlign:"center",fontFamily:"Roboto"}}),e(Q,{y:h==null?void 0:h.close,stroke:"#aaabd1",strokeDasharray:"5 3"}),e(F,{hide:!1,name:"Close",data:U(c),dataKey:"close",stroke:"#aaabd1",strokeWidth:2,dot:!1,activeDot:{r:4}}),e(F,{hide:!0,name:"Yesterday Close",data:U(l),dataKey:"close",stroke:"grey",strokeWidth:2,dot:!1,activeDot:{r:4}})]})})})};const he=()=>e("div",{className:"news-error",children:"News Not Available"});const pe=()=>e("div",{className:"news-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"50",height:"70","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"50",width:"10",x:"0",order:"0",speed:"0.8",className:"news-one"}),e("rect",{type:"secondary",height:"50",width:"10",x:"12",order:"1",speed:"0.8",className:"news-two"}),e("rect",{type:"secondary",height:"50",width:"10",x:"24",order:"2",speed:"0.8",className:"news-three"}),e("rect",{type:"secondary",height:"50",width:"10",x:"36",order:"3",speed:"0.8",className:"news-four"})]})})}),ue=t=>{const[a,s]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const i=await fetch(t);i.ok||(r(!0),console.error(i));const l=await i.json();r(!1),s(l)})()},200)},[t]),[a,n]};R.extend(Z);const me=({stockSymbol:t})=>{const s=`https://sandbox.iexapis.com/stable/stock/${t}/news/last/3?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504`,[n,r]=ue(s);return n?r?e(he,{}):o("div",{className:"news-wrapper",children:[e("h3",{className:"news-title",children:"Latest News"}),n.map((c,i)=>o("div",{children:[o("div",{className:"news-container",children:[e("div",{className:"news-headline",children:e("a",{href:c.url,target:"_blank",rel:"noreferrer",children:c.headline})}),o("div",{className:"news-date","data-testid":"days-ago",children:[R(c.datetime).toNow(!0)," ago - ",c.source]})]}),e("div",{className:"lines"},i)]},i))]}):e(pe,{})},fe=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1});function C(t){return fe.formatToParts(t).map(({type:a,value:s})=>{switch(a){case"fraction":return`${s} `;default:return s}}).reduce((a,s)=>a+s)}const ge=()=>e("div",{className:"key-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"78",height:"115","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"80",width:"15",x:"0",order:"0",speed:"0.8",className:"key-one"}),e("rect",{type:"secondary",height:"80",width:"15",x:"20",order:"1",speed:"0.8",className:"key-two"}),e("rect",{type:"secondary",height:"80",width:"15",x:"40",order:"2",speed:"0.8",className:"key-three"}),e("rect",{type:"secondary",height:"80",width:"15",x:"60",order:"3",speed:"0.8",className:"key-four"})]})})}),ve=(t,a)=>{const[s,n]=d.exports.useState(),[r,c]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const l=await fetch(t),u=await fetch(a);(!l.ok||!u.ok)&&(c(!0),console.error(l,u));const h=await l.json(),m=await u.json();c(!1),n(b(b({},h),m))})()},200)},[t,a]),[s,r]};const xe=()=>e("div",{className:"key-stats-error",children:"Key Statistics Not Available"}),ye=({stockSymbol:t})=>{var k,p;const a="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",s=`https://sandbox.iexapis.com/stable/stock/${t}/quote/${a}`,n=`https://sandbox.iexapis.com/stable/stock/${t}/stats/${a}`,[r,c]=ve(s,n);if(c)return e(xe,{});if(!r)return e(ge,{});const{high:i,low:l,open:u,previousClose:h,week52High:m,week52Low:f,marketCap:g,peRatio:y,dividendYield:v,ttmEPS:x,volume:w,avgTotalVolume:N}=r;return o("div",{className:"stats-wrapper","data-testid":"statistics",children:[e("h2",{className:"stats-title",children:"Key Statistics"}),o("div",{className:"stats-container",children:[o("div",{className:"stats-section",children:[o("div",{className:"stats-row",children:["Open",e("span",{children:u?`$${u}`:"-"})]}),o("div",{className:"stats-row",children:["High",e("span",{children:i?`$${i}`:"-"})]}),o("div",{className:"stats-row",children:["Low",e("span",{children:l?`$${l}`:"-"})]}),o("div",{className:"stats-row",children:["Previous Close",e("span",{children:`$${h}`})]})]}),o("div",{className:"stats-section",children:[o("div",{className:"stats-row",children:["Day Range",e("span",{children:i?`$${i} - ${l}`:"-"})]}),o("div",{className:"stats-row",children:["52 Week Range",e("span",{children:`$${f} - ${m}`})]}),o("div",{className:"stats-row",children:["Market Cap",e("span",{children:(k=C(g))!=null?k:"-"})]}),o("div",{className:"stats-row",children:["P/E Ratio",e("span",{children:(p=y.toFixed(2))!=null?p:"-"})]})]}),o("div",{className:"stats-section",children:[o("div",{className:"stats-row",children:["Dividend Yield",e("span",{children:v?`${v==null?void 0:v.toFixed(2)}%`:"-"})]}),o("div",{className:"stats-row",children:["Earnings Per Share",e("span",{children:x?`${x==null?void 0:x.toFixed(2)}`:"-"})]}),o("div",{className:"stats-row",children:["Volume",e("span",{children:w?C(w):"-"})]}),o("div",{className:"stats-row",children:["Total Avg. Volume",e("span",{children:N?C(N):"-"})]})]})]})]})};const we=()=>e("div",{className:"top-peers-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"50",height:"70","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"50",width:"10",x:"0",order:"0",speed:"0.8",className:"top-peers-one"}),e("rect",{type:"secondary",height:"50",width:"10",x:"12",order:"1",speed:"0.8",className:"top-peers-two"}),e("rect",{type:"secondary",height:"50",width:"10",x:"24",order:"2",speed:"0.8",className:"top-peers-three"}),e("rect",{type:"secondary",height:"50",width:"10",x:"36",order:"3",speed:"0.8",className:"top-peers-four"})]})})}),Ne=t=>{const[a,s]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const i=await fetch(t);i.ok||(r(!0),console.error(i));const l=await i.json();r(!1),s(l)})()},200)},[t]),[a,n]};const ke=({stockSymbol:t})=>{const s=`https://finnhub.io/api/v1/stock/peers?symbol=${t}&token=sandbox_c5rtke2ad3ibf61ruc9g`,[n,r]=Ne(s);return n?r?e("div",{children:"Error..."}):o("div",{className:"peers-wrapper",children:[e("h2",{className:"peers-title",children:"Top Peers"}),e("div",{className:"peers-container",children:n==null?void 0:n.map((c,i)=>e(_,{to:`/${c}`,children:e("button",{className:"peer",children:c})},i))})]}):e(we,{})};const be=()=>e("div",{className:"summary-error",children:"Summary Not Available"});const Se=()=>e("div",{className:"summary-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"50",height:"70","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"50",width:"10",x:"0",order:"0",speed:"0.8",className:"summary-one"}),e("rect",{type:"secondary",height:"50",width:"10",x:"12",order:"1",speed:"0.8",className:"summary-two"}),e("rect",{type:"secondary",height:"50",width:"10",x:"24",order:"2",speed:"0.8",className:"summary-three"}),e("rect",{type:"secondary",height:"50",width:"10",x:"36",order:"3",speed:"0.8",className:"summary-four"})]})})}),Ce=t=>{const[a,s]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const i=await fetch(t);i.ok||(r(!0),console.error(i));const l=await i.json();r(!1),s(l)})()},200)},[t]),[a,n]},$e=({stockSymbol:t})=>{const s=`https://sandbox.iexapis.com/stable/stock/${t}/company?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504`,[n,r]=Ce(s);return n?r?e(be,{}):e("div",{children:o("div",{className:"summary-container",children:[e("h2",{className:"summary-title",children:"Company Summary"}),o("h3",{className:"company-name",children:[n.companyName," (",n.symbol,")"]}),e("a",{className:"company-link",target:"_blank",rel:"noreferrer",href:n==null?void 0:n.website,children:n.website}),o("p",{className:"company-summary",children:[n.description.substring(0,500),"..."]}),e("div",{className:"summary-line"})]})}):e(Se,{})};const De=()=>e("div",{className:"index-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"32",height:"45","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"30",width:"6",x:"0",order:"0",speed:"0.8",className:"index-one"}),e("rect",{type:"secondary",height:"30",width:"6",x:"8",order:"1",speed:"0.8",className:"index-two"}),e("rect",{type:"secondary",height:"30",width:"6",x:"16",order:"2",speed:"0.8",className:"index-three"}),e("rect",{type:"secondary",height:"30",width:"6",x:"24",order:"3",speed:"0.8",className:"index-four"})]})})});const Ee=()=>e("div",{className:"index-error",children:"Indexes Not Available"}),$=t=>{const[a,s]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const i=await fetch(t);i.ok||(r(!0),console.error(i));const l=await i.json();r(!1),s({indexPrice:l.latestPrice.toFixed(2),indexChange:l.change.toFixed(2),indexPercentChange:l.changePercent.toFixed(2)})})()},400)},[t]),[a,n]},D="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",Pe=`https://sandbox.iexapis.com/stable/stock/SPY/quote/${D}`,Le=`https://sandbox.iexapis.com/stable/stock/DIA/quote/${D}`,Te=`https://sandbox.iexapis.com/stable/stock/IWM/quote/${D}`,Fe=()=>{const[t,a]=$(Pe),[s,n]=$(Le),[r,c]=$(Te);return a||n||c?e(Ee,{}):!t||!s||!r?e(De,{}):e("div",{className:"index",children:e("table",{children:e("tbody",{children:o("tr",{children:[o("td",{className:"name",children:[e("span",{className:"index-name",children:"SPY"})," $",t.indexPrice]}),o("td",{className:t.indexChange>0?"positiveChange":"negativeChange",children:[t.indexChange>0?"\u2191":"\u2193"," ",t.indexChange," | ",t.indexPercentChange,"%"]}),o("td",{className:"name",children:[e("span",{className:"index-name",children:"DIA"})," $",s.indexPrice]}),o("td",{className:s.indexChange>0?"positiveChange":"negativeChange",children:[s.indexChange>0?"\u2191":"\u2193"," ",s.indexChange," | ",s.indexPercentChange,"%"]}),o("td",{className:"name",children:[e("span",{className:"index-name",children:"IWM"})," $",r.indexPrice]}),o("td",{className:r.indexChange>0?"positiveChange":"negativeChange",children:[r.indexChange>0?"\u2191":"\u2193"," ",r.indexChange," | ",r.indexPercentChange,"%"]})]})})})})};const E=d.exports.createContext({setSelectedResult:()=>{}}),S=d.exports.createContext({stocks:[],stockSearch:"",cursor:0,setCursor:()=>{},setStockSearch:()=>{}}),Re=(t,a)=>{const s=new RegExp(a,"gi"),n=t.match(s),r=n?n.toString():"",c=t.substring(r.length);return[r,c]},j=({word:t,searchToCompare:a})=>{const[s,n]=Re(t,a);return o("span",{children:[e("strong",{className:"black",children:s}),n," "]})},_e=({symbol:t,stockName:a,active:s,position:n})=>{const{setSelectedResult:r}=d.exports.useContext(E),{stockSearch:c,setStockSearch:i,setCursor:l}=d.exports.useContext(S),u=()=>{r(a),i("")};return e("div",{children:e(_,{to:`/${t}`,onMouseDown:h=>h.preventDefault(),children:o("div",{onMouseEnter:()=>l(n),className:`stock-suggested ${s&&"hovered"}`,onClick:u,children:[e(j,{word:t,searchToCompare:c})," -"," ",a.split(" ").map((h,m)=>e(j,{word:h,searchToCompare:c},m))]})})})},Ae=({market:t})=>{const{stocks:a,cursor:s}=d.exports.useContext(S);return o("div",{children:[e("div",{className:"market-name",children:t}),a==null?void 0:a.map((n,r)=>e(_e,{position:r,symbol:n.symbol,active:r===s,stockName:n.name},r))]})},Ie=()=>{const{stocks:t}=d.exports.useContext(S);return e("div",{className:"suggestion-panel",children:(t==null?void 0:t.length)===0?e("div",{className:"no-result-label",children:"No results found"}):e(Ae,{market:"Stocks"})})},qe="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",Ue=(t,a)=>{const s=`https://sandbox.iexapis.com/stable/search/${a}/${qe}`;fetch(s).then(n=>n.json()).then(n=>{t(n)}).catch(n=>{t([]),console.log(n)})},P=function(t){const[a,s]=d.exports.useState(!1);function n(c){c.key===t&&s(!0)}const r=c=>{c.key===t&&s(!1)};return A.useEffect(()=>(window.addEventListener("keydown",n),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",r)})),a},K=({style:t={},currentResult:a})=>{const[s,n]=d.exports.useState(null),[r,c]=d.exports.useState(""),[i,l]=d.exports.useState(!1),u=d.exports.useRef(null),h=ee(),{setSelectedResult:m}=d.exports.useContext(E),f=P("ArrowDown"),g=P("ArrowUp"),y=P("Enter"),[v,x]=d.exports.useState(0);d.exports.useEffect(()=>{(s==null?void 0:s.length)&&f&&x(p=>p<(s==null?void 0:s.length)-1?p+1:p)},[f]),d.exports.useEffect(()=>{(s==null?void 0:s.length)&&g&&x(p=>p>0?p-1:p)},[g]),d.exports.useEffect(()=>{if((s==null?void 0:s.length)&&y){const{symbol:p,name:M}=s[v];m(M),h("../"+p)}},[v,y]),d.exports.useEffect(()=>{var p;(p=u.current)==null||p.blur()},[a]),d.exports.useEffect(()=>{i||c("")},[i]),d.exports.useEffect(()=>{r?Ue(n,r):n(null)},[r]);const w=p=>{c(p.target.value)},N=()=>{l(!0)},k=()=>{l(!1)};return o("div",{className:"search-wrapper",style:b({},t),children:[e("input",{type:"text",ref:u,onFocus:N,onBlur:k,onChange:w,value:i?r:a,placeholder:"Enter a stock, symbol or currency"}),e(S.Provider,{value:{stocks:s,stockSearch:r,cursor:v,setCursor:x,setStockSearch:c},children:s&&r&&i&&e(Ie,{})})]})};const je=()=>e("div",{className:"live-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"40",height:"50","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"30",width:"8",x:"0",order:"0",speed:"0.8",className:"live-one"}),e("rect",{type:"secondary",height:"30",width:"8",x:"10",order:"1",speed:"0.8",className:"live-two"}),e("rect",{type:"secondary",height:"30",width:"8",x:"20",order:"2",speed:"0.8",className:"live-three"}),e("rect",{type:"secondary",height:"30",width:"8",x:"30",order:"3",speed:"0.8",className:"live-four"})]})})});const Ke=()=>e("div",{className:"live-price-error",children:"Live Price Not Available"}),Me=({stockSymbol:t})=>{const[a,s]=d.exports.useState(),[n,r]=d.exports.useState(),[c,i]=d.exports.useState(),[l,u]=d.exports.useState(!1);return d.exports.useEffect(()=>{const h=new EventSource(`https://sandbox-sse.iexapis.com/stable/stocksUS1second?token=Tpk_095b8e5990924d0c8c41c2209556da53&symbols=${t}`),m=f=>{const g=f[0];s(g.latestPrice),r(g.change),i(g.changePercent)};return h.onmessage=f=>{u(!1),m(JSON.parse(f.data))},h.onerror=()=>{u(!0),h.close()},()=>{h.close()}},[t]),l?e(Ke,{}):!a||!n?e(je,{}):o("div",{className:"live-container",children:[o("div",{className:"live-price",children:["$",a==null?void 0:a.toFixed(2)]}),o("div",{className:n>0?"price-change-positive":"price-change-negative",children:[n>0?"\u2191":"\u2193"," ",n==null?void 0:n.toFixed(2)," | ",c==null?void 0:c.toFixed(2),"%"]})]})},Oe=({stockName:t})=>{const{stock:a}=te();return o("div",{className:"dashboard",children:[o("div",{className:"main-section",children:[o("div",{className:"search-live",children:[e(K,{currentResult:`${a} - ${t}`,style:{marginTop:"40px"}}),e(Me,{stockSymbol:a})]}),e(le,{stockSymbol:a}),e(ye,{stockSymbol:a}),e(Fe,{})]}),o("div",{className:"right-sidebar",children:[e(me,{stockSymbol:a}),e($e,{stockSymbol:a}),e(ke,{stockSymbol:a})]})]})};const Ge=()=>e("div",{className:"search",children:e(K,{currentResult:"",style:{}})}),Be=({completed:t})=>{const a={height:"4px",width:"231px",backgroundColor:"#e0e0de",borderRadius:50},s={height:"100%",width:`${t}%`,backgroundColor:" var(--core-primary-2)",borderRadius:"inherit"};return e("div",{style:a,children:e("div",{style:s})})};var We="/stock-tracker-turing/assets/ra-logo.612be723.png";const ze=({completed:t})=>o("div",{className:t===100?"splash-screen-short":"splash-screen",children:[e("img",{src:We,className:t===100?"":"logo",alt:"deneme"}),t===100?null:e(Be,{completed:t})]});const He=()=>{const[t,a]=d.exports.useState(0);return d.exports.useEffect(()=>{if(t<100){const s=setInterval(()=>{a(n=>n+1)},10);return()=>{clearInterval(s)}}},[t]),o("div",{className:"homepage",children:[e(ze,{completed:t}),t===100&&e(Ge,{})]})};function Ye(){const[t,a]=d.exports.useState("");return e("div",{className:"app",children:e(E.Provider,{value:{setSelectedResult:a},children:o(se,{children:[e(I,{path:"/",element:e(He,{})}),e(I,{path:":stock",element:e(Oe,{stockName:t})})]})})})}ae.render(e(A.StrictMode,{children:e(re,{basename:"/stock-tracker-turing/",children:e(Ye,{})})}),document.getElementById("root"));
