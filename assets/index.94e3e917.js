var j=Object.defineProperty;var D=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var E=(t,s,a)=>s in t?j(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,x=(t,s)=>{for(var a in s||(s={}))U.call(s,a)&&E(t,a,s[a]);if(D)for(var a of D(s))K.call(s,a)&&E(t,a,s[a]);return t};import{j as e,T as M,a as o,r as d,R as O,L as G,C as B,Y as z,X as W,b as Y,c as V,d as P,e as F,f as H,g as L,u as X,h as J,i as T,k as Q,l as Z,B as ee}from"./vendor.de390494.js";const te=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}};te();const se=({x:t,y:s,payload:a,index:n})=>{if(!a||!s||!t||n===void 0)return null;let r=a.value.toFixed(2);switch(n){case 1:case 2:case 3:r="-";break;case 5:case 6:case 7:r="-";break;case 9:case 10:r="-";break}return e(M,{y:s+3.5,x:t,textAnchor:"end",fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto",dx:-2,children:r})};const ae=()=>e("div",{className:"graph-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"78",height:"115","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"80",width:"15",x:"0",order:"0",speed:"0.8",className:"graph-one"}),e("rect",{type:"secondary",height:"80",width:"15",x:"20",order:"1",speed:"0.8",className:"graph-two"}),e("rect",{type:"secondary",height:"80",width:"15",x:"40",order:"2",speed:"0.8",className:"graph-three"}),e("rect",{type:"secondary",height:"80",width:"15",x:"60",order:"3",speed:"0.8",className:"graph-four"})]})})});const re=()=>e("div",{className:"loading-fail",children:"Graph Data Not Available"}),ne=t=>{const[s,a]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const c=await fetch(t);c.ok||(r(!0),console.error(c));const l=await c.json();r(!1),a(l)})()},400)},[t]),[s,n]},_=t=>{const[s,a]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{(async()=>{const c=await fetch(t);c.ok||(r(!0),console.error(c));const l=await c.json();r(!1),a(l)})()},[t]),[s,n]},R=t=>t.filter(a=>a.close>0),oe=({stockSymbol:t})=>{const s="?token=Tpk_095b8e5990924d0c8c41c2209556da53",a=`https://sandbox.iexapis.com/stable/stock/${t}/intraday-prices/${s}&chartInterval=5`,n=`https://sandbox.iexapis.com/stable/stock/${t}/chart/date/20211117${s}&chartInterval=5`,r=`https://sandbox.iexapis.com/stable/stock/${t}/previous/${s}`,[i,c]=_(a),[l,h]=_(n),[p]=ne(r);return c||h?e(re,{}):!i||!l?e(ae,{}):e("div",{className:"chart",children:e(O,{width:"100%",height:"100%",children:o(G,{children:[e(B,{stroke:"#d1d1d1",strokeWidth:.4,verticalFill:["#ffffff00","#ededed80"]}),e(z,{stroke:"#eaebeb",tickSize:10,tickCount:12,interval:"preserveEnd",allowDecimals:!0,domain:["auto","auto"],padding:{top:18},dx:-5,tick:e(se,{})}),e(W,{stroke:"#eaebeb",tickSize:10,tickCount:12,tick:{fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto"},interval:5,allowDuplicatedCategory:!1,dataKey:"label",dy:5,textAnchor:"beginning"}),e(Y,{contentStyle:{fontSize:14,borderColor:"#aaabd1",textAlign:"center",fontFamily:"Roboto"}}),e(V,{y:p==null?void 0:p.close,stroke:"#aaabd1",strokeDasharray:"5 3"}),e(P,{hide:!1,name:"Close",data:R(i),dataKey:"close",stroke:"#aaabd1",strokeWidth:2,dot:!1,activeDot:{r:4}}),e(P,{hide:!0,name:"Yesterday Close",data:R(l),dataKey:"close",stroke:"grey",strokeWidth:2,dot:!1,activeDot:{r:4}})]})})})};const ce=()=>e("div",{className:"news-error",children:"News Not Available"});const ie=()=>e("div",{className:"news-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"50",height:"70","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"50",width:"10",x:"0",order:"0",speed:"0.8",className:"news-one"}),e("rect",{type:"secondary",height:"50",width:"10",x:"12",order:"1",speed:"0.8",className:"news-two"}),e("rect",{type:"secondary",height:"50",width:"10",x:"24",order:"2",speed:"0.8",className:"news-three"}),e("rect",{type:"secondary",height:"50",width:"10",x:"36",order:"3",speed:"0.8",className:"news-four"})]})})}),de=t=>{const[s,a]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const c=await fetch(t);c.ok||(r(!0),console.error(c));const l=await c.json();r(!1),a(l)})()},200)},[t]),[s,n]};F.extend(H);const le=({stockSymbol:t})=>{const a=`https://sandbox.iexapis.com/stable/stock/${t}/news/last/3?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504`,[n,r]=de(a);return n?r?e(ce,{}):o("div",{className:"news-wrapper",children:[e("h3",{className:"news-title",children:"Latest News"}),n.map((i,c)=>o("div",{children:[o("div",{className:"news-container",children:[e("div",{className:"news-headline",children:e("a",{href:i.url,target:"_blank",rel:"noreferrer",children:i.headline})}),o("div",{className:"news-date","data-testid":"days-ago",children:[F(i.datetime).toNow(!0)," ago - ",i.source]})]}),e("div",{className:"lines"},c)]},c))]}):e(ie,{})},he=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1});function N(t){return he.formatToParts(t).map(({type:s,value:a})=>{switch(s){case"fraction":return`${a} `;default:return a}}).reduce((s,a)=>s+a)}const pe=()=>e("div",{className:"key-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"78",height:"115","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"80",width:"15",x:"0",order:"0",speed:"0.8",className:"key-one"}),e("rect",{type:"secondary",height:"80",width:"15",x:"20",order:"1",speed:"0.8",className:"key-two"}),e("rect",{type:"secondary",height:"80",width:"15",x:"40",order:"2",speed:"0.8",className:"key-three"}),e("rect",{type:"secondary",height:"80",width:"15",x:"60",order:"3",speed:"0.8",className:"key-four"})]})})}),ue=(t,s)=>{const[a,n]=d.exports.useState(),[r,i]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const l=await fetch(t),h=await fetch(s);(!l.ok||!h.ok)&&(i(!0),console.error(l,h));const p=await l.json(),m=await h.json();i(!1),n(x(x({},p),m))})()},200)},[t,s]),[a,r]};const me=()=>e("div",{className:"key-stats-error",children:"Key Statistics Not Available"}),fe=({stockSymbol:t})=>{var $,C;const s="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",a=`https://sandbox.iexapis.com/stable/stock/${t}/quote/${s}`,n=`https://sandbox.iexapis.com/stable/stock/${t}/stats/${s}`,[r,i]=ue(a,n);if(i)return e(me,{});if(!r)return e(pe,{});const{high:c,low:l,open:h,previousClose:p,week52High:m,week52Low:f,marketCap:u,peRatio:q,dividendYield:g,ttmEPS:v,volume:b,avgTotalVolume:S}=r;return o("div",{className:"stats-wrapper","data-testid":"statistics",children:[e("h2",{className:"stats-title",children:"Key Statistics"}),o("div",{className:"stats-container",children:[o("div",{className:"stats-section",children:[o("div",{className:"stats-row",children:["Open",e("span",{children:h?`$${h}`:"-"})]}),o("div",{className:"stats-row",children:["High",e("span",{children:c?`$${c}`:"-"})]}),o("div",{className:"stats-row",children:["Low",e("span",{children:l?`$${l}`:"-"})]}),o("div",{className:"stats-row",children:["Previous Close",e("span",{children:`$${p}`})]})]}),o("div",{className:"stats-section",children:[o("div",{className:"stats-row",children:["Day Range",e("span",{children:c?`$${c} - ${l}`:"-"})]}),o("div",{className:"stats-row",children:["52 Week Range",e("span",{children:`$${f} - ${m}`})]}),o("div",{className:"stats-row",children:["Market Cap",e("span",{children:($=N(u))!=null?$:"-"})]}),o("div",{className:"stats-row",children:["P/E Ratio",e("span",{children:(C=q.toFixed(2))!=null?C:"-"})]})]}),o("div",{className:"stats-section",children:[o("div",{className:"stats-row",children:["Dividend Yield",e("span",{children:g?`${g==null?void 0:g.toFixed(2)}%`:"-"})]}),o("div",{className:"stats-row",children:["Earnings Per Share",e("span",{children:v?`${v==null?void 0:v.toFixed(2)}`:"-"})]}),o("div",{className:"stats-row",children:["Volume",e("span",{children:b?N(b):"-"})]}),o("div",{className:"stats-row",children:["Total Avg. Volume",e("span",{children:S?N(S):"-"})]})]})]})]})};const ge=()=>e("div",{className:"top-peers-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"50",height:"70","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"50",width:"10",x:"0",order:"0",speed:"0.8",className:"top-peers-one"}),e("rect",{type:"secondary",height:"50",width:"10",x:"12",order:"1",speed:"0.8",className:"top-peers-two"}),e("rect",{type:"secondary",height:"50",width:"10",x:"24",order:"2",speed:"0.8",className:"top-peers-three"}),e("rect",{type:"secondary",height:"50",width:"10",x:"36",order:"3",speed:"0.8",className:"top-peers-four"})]})})}),ve=t=>{const[s,a]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const c=await fetch(t);c.ok||(r(!0),console.error(c));const l=await c.json();r(!1),a(l)})()},200)},[t]),[s,n]};const xe=({stockSymbol:t})=>{const a=`https://finnhub.io/api/v1/stock/peers?symbol=${t}&token=sandbox_c5rtke2ad3ibf61ruc9g`,[n,r]=ve(a);return n?r?e("div",{children:"Error..."}):o("div",{className:"peers-wrapper",children:[e("h2",{className:"peers-title",children:"Top Peers"}),e("div",{className:"peers-container",children:n==null?void 0:n.map((i,c)=>e(L,{to:`/${i}`,children:e("button",{className:"peer",children:i})},c))})]}):e(ge,{})};const ye=()=>e("div",{className:"summary-error",children:"Summary Not Available"});const Ne=()=>e("div",{className:"summary-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"50",height:"70","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"50",width:"10",x:"0",order:"0",speed:"0.8",className:"summary-one"}),e("rect",{type:"secondary",height:"50",width:"10",x:"12",order:"1",speed:"0.8",className:"summary-two"}),e("rect",{type:"secondary",height:"50",width:"10",x:"24",order:"2",speed:"0.8",className:"summary-three"}),e("rect",{type:"secondary",height:"50",width:"10",x:"36",order:"3",speed:"0.8",className:"summary-four"})]})})}),we=t=>{const[s,a]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const c=await fetch(t);c.ok||(r(!0),console.error(c));const l=await c.json();r(!1),a(l)})()},200)},[t]),[s,n]},ke=({stockSymbol:t})=>{const a=`https://sandbox.iexapis.com/stable/stock/${t}/company?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504`,[n,r]=we(a);return n?r?e(ye,{}):e("div",{children:o("div",{className:"summary-container",children:[e("h2",{className:"summary-title",children:"Company Summary"}),o("h3",{className:"company-name",children:[n.companyName," (",n.symbol,")"]}),e("a",{className:"company-link",target:"_blank",rel:"noreferrer",href:n==null?void 0:n.website,children:n.website}),o("p",{className:"company-summary",children:[n.description.substring(0,500),"..."]}),e("div",{className:"summary-line"})]})}):e(Ne,{})};const be=()=>e("div",{className:"index-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"32",height:"45","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"30",width:"6",x:"0",order:"0",speed:"0.8",className:"index-one"}),e("rect",{type:"secondary",height:"30",width:"6",x:"8",order:"1",speed:"0.8",className:"index-two"}),e("rect",{type:"secondary",height:"30",width:"6",x:"16",order:"2",speed:"0.8",className:"index-three"}),e("rect",{type:"secondary",height:"30",width:"6",x:"24",order:"3",speed:"0.8",className:"index-four"})]})})});const Se=()=>e("div",{className:"index-error",children:"Indexes Not Available"}),w=t=>{const[s,a]=d.exports.useState(),[n,r]=d.exports.useState();return d.exports.useEffect(()=>{setTimeout(()=>{(async()=>{const c=await fetch(t);c.ok||(r(!0),console.error(c));const l=await c.json();r(!1),a({indexPrice:l.latestPrice.toFixed(2),indexChange:l.change.toFixed(2),indexPercentChange:l.changePercent.toFixed(2)})})()},400)},[t]),[s,n]},k="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",$e=`https://sandbox.iexapis.com/stable/stock/SPY/quote/${k}`,Ce=`https://sandbox.iexapis.com/stable/stock/DIA/quote/${k}`,De=`https://sandbox.iexapis.com/stable/stock/IWM/quote/${k}`,Ee=()=>{const[t,s]=w($e),[a,n]=w(Ce),[r,i]=w(De);return s||n||i?e(Se,{}):!t||!a||!r?e(be,{}):e("div",{className:"index",children:e("table",{children:e("tbody",{children:o("tr",{children:[o("td",{className:"name",children:[e("span",{className:"index-name",children:"SPY"})," $",t.indexPrice]}),o("td",{className:t.indexChange>0?"positiveChange":"negativeChange",children:[t.indexChange>0?"\u2191":"\u2193"," ",t.indexChange," | ",t.indexPercentChange,"%"]}),o("td",{className:"name",children:[e("span",{className:"index-name",children:"DIA"})," $",a.indexPrice]}),o("td",{className:a.indexChange>0?"positiveChange":"negativeChange",children:[a.indexChange>0?"\u2191":"\u2193"," ",a.indexChange," | ",a.indexPercentChange,"%"]}),o("td",{className:"name",children:[e("span",{className:"index-name",children:"IWM"})," $",r.indexPrice]}),o("td",{className:r.indexChange>0?"positiveChange":"negativeChange",children:[r.indexChange>0?"\u2191":"\u2193"," ",r.indexChange," | ",r.indexPercentChange,"%"]})]})})})})};const I=d.exports.createContext({setSelectedResult:()=>{}}),y=d.exports.createContext({stocks:[],stockSearch:"",setStockSearch:()=>{}}),Pe=({symbol:t,stockName:s})=>{const{setSelectedResult:a}=d.exports.useContext(I),{stockSearch:n,setStockSearch:r}=d.exports.useContext(y),i=(l,h=0)=>{const p=new RegExp(n,"gi"),m=l.match(p),f=m?m.toString():"",u=l.substring(f.length);return o("span",{children:[e("strong",{className:"black",children:f}),u," "]},h)},c=()=>{a(s),r("")};return e("div",{children:e(L,{to:`/${t}`,onMouseDown:l=>l.preventDefault(),children:o("div",{className:"stock-suggested",onClick:c,children:[i(t)," - ",s.split(" ").map(i)]})})})},Fe=({market:t})=>{const{stocks:s}=d.exports.useContext(y);return o("div",{children:[e("div",{className:"market-name",children:t}),s==null?void 0:s.map((a,n)=>e(Pe,{symbol:a.symbol,stockName:a.name},n))]})},Le=()=>{const{stocks:t}=d.exports.useContext(y);return e("div",{className:"suggestion-panel",children:(t==null?void 0:t.length)===0?e("div",{className:"no-result-label",children:"No results found"}):e(Fe,{market:"Stocks"})})},Te="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",_e=(t,s)=>{const a=`https://sandbox.iexapis.com/stable/search/${s}/${Te}`;fetch(a).then(n=>n.json()).then(n=>{t(n)}).catch(n=>{t([]),console.log(n)})},A=({style:t={},currentResult:s})=>{const[a,n]=d.exports.useState(null),[r,i]=d.exports.useState(""),[c,l]=d.exports.useState(!1),h=d.exports.useRef(null);d.exports.useEffect(()=>{var u;(u=h.current)==null||u.blur()},[s]),d.exports.useEffect(()=>{c||i("")},[c]),d.exports.useEffect(()=>{r?_e(n,r):n(null)},[r]);const p=u=>{i(u.target.value)},m=()=>{l(!0)},f=()=>{l(!1)};return o("div",{className:"search-wrapper",style:x({},t),children:[e("input",{type:"text",ref:h,onFocus:m,onBlur:f,onChange:p,value:c?r:s,placeholder:"Enter a stock, symbol or currency"}),e(y.Provider,{value:{stocks:a,stockSearch:r,setStockSearch:i},children:a&&r&&c&&e(Le,{})})]})};const Re=()=>e("div",{className:"live-loading",children:e("span",{children:o("svg",{fill:"#828282",width:"40",height:"50","data-qa":"adaptive-loader__svg",children:[e("rect",{type:"secondary",height:"30",width:"8",x:"0",order:"0",speed:"0.8",className:"live-one"}),e("rect",{type:"secondary",height:"30",width:"8",x:"10",order:"1",speed:"0.8",className:"live-two"}),e("rect",{type:"secondary",height:"30",width:"8",x:"20",order:"2",speed:"0.8",className:"live-three"}),e("rect",{type:"secondary",height:"30",width:"8",x:"30",order:"3",speed:"0.8",className:"live-four"})]})})});const Ie=()=>e("div",{className:"live-price-error",children:"Live Price Not Available"}),Ae=({stockSymbol:t})=>{const[s,a]=d.exports.useState(),[n,r]=d.exports.useState(),[i,c]=d.exports.useState(),[l,h]=d.exports.useState(!1);return d.exports.useEffect(()=>{const p=new EventSource(`https://sandbox-sse.iexapis.com/stable/stocksUS1second?token=Tpk_095b8e5990924d0c8c41c2209556da53&symbols=${t}`),m=f=>{const u=f[0];a(u.latestPrice),r(u.change),c(u.changePercent)};return p.onmessage=f=>{h(!1),m(JSON.parse(f.data))},p.onerror=()=>{h(!0),p.close()},()=>{p.close()}},[t]),l?e(Ie,{}):!s||!n?e(Re,{}):o("div",{className:"live-container",children:[o("div",{className:"live-price",children:["$",s==null?void 0:s.toFixed(2)]}),o("div",{className:n>0?"price-change-positive":"price-change-negative",children:[n>0?"\u2191":"\u2193"," ",n==null?void 0:n.toFixed(2)," | ",i==null?void 0:i.toFixed(2),"%"]})]})},qe=({stockName:t})=>{const{stock:s}=X();return o("div",{className:"dashboard",children:[o("div",{className:"main-section",children:[o("div",{className:"search-live",children:[e(A,{currentResult:`${s} - ${t}`,style:{marginTop:"40px"}}),e(Ae,{stockSymbol:s})]}),e(oe,{stockSymbol:s}),e(fe,{stockSymbol:s}),e(Ee,{})]}),o("div",{className:"right-sidebar",children:[e(le,{stockSymbol:s}),e(ke,{stockSymbol:s}),e(xe,{stockSymbol:s})]})]})};const je=()=>e("div",{className:"search",children:e(A,{currentResult:"",style:{}})}),Ue=({completed:t})=>{const s={height:"4px",width:"231px",backgroundColor:"#e0e0de",borderRadius:50},a={height:"100%",width:`${t}%`,backgroundColor:" var(--core-primary-2)",borderRadius:"inherit"};return e("div",{style:s,children:e("div",{style:a})})};var Ke="/stock-tracker-turing/assets/ra-logo.612be723.png";const Me=({completed:t})=>o("div",{className:t===100?"splash-screen-short":"splash-screen",children:[e("img",{src:Ke,className:t===100?"":"logo",alt:"deneme"}),t===100?null:e(Ue,{completed:t})]});const Oe=()=>{const[t,s]=d.exports.useState(0);return d.exports.useEffect(()=>{if(t<100){const a=setInterval(()=>{s(n=>n+1)},10);return()=>{clearInterval(a)}}},[t]),o("div",{className:"homepage",children:[e(Me,{completed:t}),t===100&&e(je,{})]})};function Ge(){const[t,s]=d.exports.useState("");return e("div",{className:"app",children:e(I.Provider,{value:{setSelectedResult:s},children:o(J,{children:[e(T,{path:"/",element:e(Oe,{})}),e(T,{path:":stock",element:e(qe,{stockName:t})})]})})})}Q.render(e(Z.StrictMode,{children:e(ee,{basename:"/stock-tracker-turing/",children:e(Ge,{})})}),document.getElementById("root"));
