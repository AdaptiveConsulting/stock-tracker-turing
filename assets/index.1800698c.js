var _=Object.defineProperty;var S=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var C=(e,s,a)=>s in e?_(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,x=(e,s)=>{for(var a in s||(s={}))U.call(s,a)&&C(e,a,s[a]);if(S)for(var a of S(s))j.call(s,a)&&C(e,a,s[a]);return e};import{j as t,a as c,r as i,T as A,R as I,L as O,C as q,Y as M,X as K,b as z,c as G,d as $,e as D,f as V,g as W,h as Y}from"./vendor.25e617ea.js";const B=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}};B();const H=({completed:e})=>{const s={height:"4px",width:"231px",backgroundColor:"#e0e0de",borderRadius:50},a={height:"100%",width:`${e}%`,backgroundColor:" var(--core-primary-2)",borderRadius:"inherit"};return t("div",{style:s,children:t("div",{style:a})})};var X="./assets/ra-logo.612be723.png";const J=({completed:e})=>c("div",{className:e===100?"splash-screen-short":"splash-screen",children:[t("img",{src:X,className:e===100?"":"logo",alt:"deneme"}),e===100?null:t(H,{completed:e})]});const v=i.exports.createContext({setSelectedResult:()=>{}}),g=i.exports.createContext({stocks:[],stockSearch:"",setStockSearch:()=>{}}),Q=({symbol:e,stockName:s})=>{const{setSelectedResult:a}=i.exports.useContext(v),{stockSearch:n,setStockSearch:r}=i.exports.useContext(g),o=(l,m=0)=>{const p=new RegExp(n,"gi"),h=l.match(p),u=h?h.toString():"",f=l.substring(u.length);return c("span",{children:[t("strong",{className:"black",children:u}),f," "]},m)};return t("div",{children:c("div",{className:"stock-suggested",onClick:()=>{a(e),r("")},children:[o(e)," - ",s.split(" ").map(o)]})})},Z=({market:e})=>{const{stocks:s}=i.exports.useContext(g);return c("div",{children:[t("div",{className:"market-name",children:e}),s==null?void 0:s.map((a,n)=>t(Q,{symbol:a.symbol,stockName:a.name},n))]})},ee=()=>{const{stocks:e}=i.exports.useContext(g);return t("div",{className:"suggestion-panel",children:(e==null?void 0:e.length)===0?t("div",{className:"no-result-label",children:"No results found"}):t(Z,{market:"Stocks"})})},te=(e,s)=>{const a=`https://sandbox.iexapis.com/stable/search/${s}/?token=Tpk_4171507c85734b4f824fe5b208d9c1e2`;fetch(a).then(n=>n.json()).then(n=>{e(n)}).catch(n=>{e([]),console.log(n)})},P=({style:e={}})=>{const[s,a]=i.exports.useState(null),[n,r]=i.exports.useState("");i.exports.useEffect(()=>{n?te(a,n):a(null)},[n]);const o=d=>{r(d.target.value)};return c("div",{className:"search-wrapper",style:x({},e),children:[t("input",{type:"text",onChange:o,placeholder:"Enter a stock, symbol or currency"}),t(g.Provider,{value:{stocks:s,stockSearch:n,setStockSearch:r},children:s&&n&&t(ee,{})})]})},se=()=>t("div",{className:"search",children:t(P,{style:{}})}),ae=({x:e,y:s,payload:a})=>{let n="-";return!a||!s||!e?null:(a.value%2==0&&(n=a.value),t(A,{y:s+3.5,x:e,textAnchor:"end",fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto",dx:-2,children:n}))},T=e=>{const[s,a]=i.exports.useState(),[n,r]=i.exports.useState();return i.exports.useEffect(()=>{(async()=>{const d=await fetch(e);d.ok||r(d.status);const l=await d.json();a(l)})()},[e]),[s,n]},ne=e=>{const[s,a]=i.exports.useState(),[n,r]=i.exports.useState();return i.exports.useEffect(()=>{(async()=>{const d=await fetch(e);d.ok||r(d.status);const l=await d.json();a(l)})()},[e]),[s,n]};const re=()=>t("div",{className:"graph-loading",children:t("span",{children:c("svg",{fill:"#27578c",width:"100",height:"150","data-qa":"adaptive-loader__svg",children:[t("rect",{type:"secondary",height:"100",width:"20",x:"0",order:"0",speed:"0.8",className:"graph-one"}),t("rect",{type:"secondary",height:"100",width:"20",x:"25",order:"1",speed:"0.8",className:"graph-two"}),t("rect",{type:"secondary",height:"100",width:"20",x:"50",order:"2",speed:"0.8",className:"graph-three"}),t("rect",{type:"secondary",height:"100",width:"20",x:"75",order:"3",speed:"0.8",className:"graph-four"})]})})});const ce=({stockSymbol:e})=>{const s=`https://sandbox.iexapis.com/stable/stock/${e}/intraday-prices/?token=Tpk_095b8e5990924d0c8c41c2209556da53&chartInterval=5`,a=`https://sandbox.iexapis.com/stable/stock/${e}/chart/date/20211108?token=Tpk_095b8e5990924d0c8c41c2209556da53&chartInterval=5`,n=`https://sandbox.iexapis.com/stable/stock/${e}/previous/?token=Tpk_095b8e5990924d0c8c41c2209556da53`,[r]=T(s),[o]=T(a),[d]=ne(n);return r?t("div",{className:"chart",children:t(I,{width:"100%",height:"100%",children:c(O,{children:[t(q,{stroke:"#eaebeb",strokeWidth:.6,verticalFill:["#ededed80","#ffffff00"]}),t(M,{stroke:"#eaebeb",tickSize:10,tickCount:12,interval:"preserveStartEnd",allowDecimals:!1,domain:["dataMin-1","auto"],padding:{top:18},dx:-5,tick:t(ae,{})}),t(K,{stroke:"#eaebeb",tickSize:10,tick:{fill:"#7f7f7f",fontSize:12,fontFamily:"Roboto"},interval:5,allowDuplicatedCategory:!1,dataKey:"label",dy:5,textAnchor:"beginning"}),t(z,{contentStyle:{fontSize:14,borderColor:"#aaabd1",textAlign:"center",fontFamily:"Roboto"}}),t(G,{y:d==null?void 0:d.close,stroke:"#aaabd1",strokeDasharray:"5 3"}),t($,{hide:!1,name:"Open",data:r,dataKey:"open",stroke:"#aaabd1",strokeWidth:2,dot:!1,activeDot:{r:4}}),t($,{hide:!0,name:"Yesterday Open",data:o,dataKey:"open",stroke:"grey",strokeWidth:2,dot:!1,activeDot:{r:4}})]})})}):t(re,{})};const oe="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",ie=async e=>{const s=`https://sandbox.iexapis.com/stable/stock/${e}/news/last/3${oe}`;try{return await fetch(s).then(n=>n.json())}catch(a){console.error(a)}};D.extend(V);const de=({stockSymbol:e})=>{const[s,a]=i.exports.useState([]);return i.exports.useEffect(()=>{let n=!0;return setTimeout(()=>{ie(e).then(r=>{n&&a(r)})},200),()=>{n=!1}},[e]),c("div",{className:"news-wrapper",children:[t("h3",{className:"news-title",children:"Latest News"}),s&&s.map((n,r)=>c("div",{className:"news-container",children:[t("div",{className:"news-headline",children:n.headline}),c("div",{className:"news-date",children:[D(n.datetime).toNow(!0)," ago - ",n.source]})]},r))]})};const F="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",le=async e=>{const s=`https://sandbox.iexapis.com/stable/stock/${e}/quote/${F}`,a=`https://sandbox.iexapis.com/stable/time-series/FUNDAMENTAL_VALUATIONS/${e}/${F}`;try{const n=await fetch(s).then(d=>d.json()),r=await fetch(a).then(d=>d.json());return x(x({},r[0]),n)}catch(n){console.error(n)}},he=new Intl.NumberFormat("en-US",{notation:"compact",minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!1});function y(e){return he.formatToParts(e).map(({type:s,value:a})=>{switch(s){case"fraction":return`${a} `;default:return a}}).reduce((s,a)=>s+a)}const pe=({stockSymbol:e})=>{var w;const[s,a]=i.exports.useState();if(i.exports.useEffect(()=>{let b=!0;return setTimeout(()=>{le(e).then(E=>{b&&a(E)})},300),()=>{b=!1}},[e]),!s)return null;const{high:n,low:r,open:o,previousClose:d,week52High:l,week52Low:m,marketCap:p,peRatio:h,dividendYield:u,incomeNetPerWabsoSplitAdjusted:f,isUSMarketOpen:L,volume:k,avgTotalVolume:R}=s;return c("div",{className:"stats-wrapper","data-testid":"statistics",children:[t("h2",{className:"stats-title",children:"Key Statistics"}),c("div",{className:"stats-container",children:[c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Open",t("span",{children:o?`$${o}`:"-"})]}),c("div",{className:"stats-row",children:["High",t("span",{children:n?`$${n}`:"-"})]}),c("div",{className:"stats-row",children:["Low",t("span",{children:r?`$${r}`:"-"})]}),c("div",{className:"stats-row",children:["Previous Close",t("span",{children:`$${d}`})]})]}),c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Day Range",t("span",{children:L?`$${n} - ${r}`:"-"})]}),c("div",{className:"stats-row",children:["52 Week Range",t("span",{children:`$${m} - ${l}`})]}),c("div",{className:"stats-row",children:["Market Cap",t("span",{children:(w=y(p))!=null?w:"-"})]}),c("div",{className:"stats-row",children:["P/E Ratio",t("span",{children:h})]})]}),c("div",{className:"stats-section",children:[c("div",{className:"stats-row",children:["Dividend Yield",t("span",{children:u?`${u==null?void 0:u.toFixed(2)}%`:"-"})]}),c("div",{className:"stats-row",children:["Earnings Per Share",t("span",{children:`${f==null?void 0:f.toFixed(2)}`})]}),c("div",{className:"stats-row",children:["Volume",t("span",{children:k?y(k):"-"})]}),c("div",{className:"stats-row",children:["Total Avg. Volume",t("span",{children:y(R)})]})]})]})]})},ue="&token=sandbox_c5rtke2ad3ibf61ruc9g",me=async e=>{const s=`https://finnhub.io/api/v1/stock/peers?symbol=${e}${ue}`;try{return await fetch(s).then(n=>n.json())}catch(a){console.error(a)}};const fe=({stockSymbol:e})=>{const[s,a]=i.exports.useState([]),{setSelectedResult:n}=i.exports.useContext(v);return i.exports.useEffect(()=>{let r=!0;return me(e).then(o=>{r&&(a(o),console.log(o))}),()=>{r=!1}},[e]),c("div",{className:"peers-wrapper",children:[t("h2",{className:"peers-title",children:"Top Peers"}),t("div",{className:"peers-container",children:s==null?void 0:s.map((r,o)=>t("button",{onClick:()=>n(r),className:"peer",children:r},o))})]})};const xe="?token=Tpk_9f8a1a489e684df8ad8a935fab4b3504",ge=async e=>{const s=`https://sandbox.iexapis.com/stable/stock/${e}/company${xe}`;try{return await fetch(s).then(n=>n.json())}catch(a){console.error(a)}},ve=({stockSymbol:e})=>{var n;const[s,a]=i.exports.useState();return i.exports.useEffect(()=>{let r=!0;return setTimeout(()=>{ge(e).then(o=>{r&&a(o)})},100),()=>{r=!1}},[e]),c("div",{className:"summary-container",children:[t("h2",{className:"summary-title",children:"Company Summary"}),c("h3",{className:"company-name",children:[s==null?void 0:s.companyName," (",s==null?void 0:s.symbol,")"]}),t("a",{className:"company-link",href:"/",children:s==null?void 0:s.website}),t("p",{className:"company-summary",children:(n=s==null?void 0:s.description)!=null?n:"Description is not available"})]})},N="Tpk_095b8e5990924d0c8c41c2209556da53",ye=`https://sandbox.iexapis.com/stable/stock/SPY/quote/?token=${N}`,Ne=`https://sandbox.iexapis.com/stable/stock/DIA/quote/?token=${N}`,ke=`https://sandbox.iexapis.com/stable/stock/IWM/quote/?token=${N}`,we=async()=>{try{const e=await fetch(ye).then(s=>s.json());return{indexPrice:e.latestPrice,indexChange:e.change.toFixed(2),indexPercentChange:e.changePercent.toFixed(2)}}catch(e){console.error(e)}},be=async()=>{try{const e=await fetch(Ne).then(s=>s.json());return{indexPrice:e.latestPrice,indexChange:e.change.toFixed(2),indexPercentChange:e.changePercent.toFixed(2)}}catch(e){console.error(e)}},Se=async()=>{try{const e=await fetch(ke).then(s=>s.json());return{indexPrice:e.latestPrice,indexChange:e.change.toFixed(2),indexPercentChange:e.changePercent.toFixed(2)}}catch(e){console.error(e)}};const Ce=()=>t("div",{className:"fte-loading",children:t("span",{children:c("svg",{fill:"#27578c",width:"55",height:"75","data-qa":"adaptive-loader__svg",children:[t("rect",{type:"secondary",height:"40",width:"10",x:"0",order:"0",speed:"0.8",className:"index-one"}),t("rect",{type:"secondary",height:"40",width:"10",x:"12",order:"1",speed:"0.8",className:"index-two"}),t("rect",{type:"secondary",height:"40",width:"10",x:"24",order:"2",speed:"0.8",className:"index-three"}),t("rect",{type:"secondary",height:"40",width:"10",x:"36",order:"3",speed:"0.8",className:"index-four"})]})})});const $e=()=>{const[e,s]=i.exports.useState(),[a,n]=i.exports.useState(),[r,o]=i.exports.useState();return i.exports.useEffect(()=>{we().then(d=>s(d)),be().then(d=>n(d)),Se().then(d=>o(d))},[]),!e||!a||!r?t(Ce,{}):t("div",{className:"fte",children:t("table",{children:t("tbody",{children:c("tr",{children:[c("td",{className:"name",children:[t("span",{className:"index-name",children:"SPY"})," $",e.indexPrice]}),c("td",{className:e.indexChange>0?"positiveChange":"negativeChange",children:[e.indexChange>0?"\u2191":"\u2193"," ",e.indexChange," | ",e.indexPercentChange,"%"]}),c("td",{className:"name",children:[t("span",{className:"index-name",children:"DIA"})," $",a.indexPrice]}),c("td",{className:a.indexChange>0?"positiveChange":"negativeChange",children:[a.indexChange>0?"\u2191":"\u2193"," ",a.indexChange," | ",a.indexPercentChange,"%"]}),c("td",{className:"name",children:[t("span",{className:"index-name",children:"IWM"})," $",r.indexPrice]}),c("td",{className:r.indexChange>0?"positiveChange":"negativeChange",children:[r.indexChange>0?"\u2191":"\u2193"," ",r.indexChange," | ",r.indexPercentChange,"%"]})]})})})})};const De=()=>t("div",{className:"loading",children:t("span",{children:c("svg",{fill:"#27578c",width:"50",height:"65","data-qa":"adaptive-loader__svg",children:[t("rect",{type:"secondary",height:"40",width:"10",x:"0",order:"0",speed:"0.8",className:"live-one"}),t("rect",{type:"secondary",height:"40",width:"10",x:"12",order:"1",speed:"0.8",className:"live-two"}),t("rect",{type:"secondary",height:"40",width:"10",x:"24",order:"2",speed:"0.8",className:"live-three"}),t("rect",{type:"secondary",height:"40",width:"10",x:"36",order:"3",speed:"0.8",className:"live-four"})]})})});const Pe=({stockSymbol:e})=>{const[s,a]=i.exports.useState(),[n,r]=i.exports.useState(),[o,d]=i.exports.useState();return i.exports.useEffect(()=>{const l=new EventSource(`https://sandbox-sse.iexapis.com/stable/stocksUS1second?token=Tpk_095b8e5990924d0c8c41c2209556da53&symbols=${e}`),m=p=>{const h=p[0];a(h.latestPrice),r(h.change),d(h.changePercent)};return l.onmessage=p=>m(JSON.parse(p.data)),l.onerror=()=>{console.log("Error retrieving live price."),l.close()},()=>{l.close()}},[e]),!s||!n?t(De,{}):c("div",{className:"liveContainer",children:[c("div",{className:"livePrice",children:["$",s==null?void 0:s.toFixed(2)]}),c("div",{className:n>0?"priceChangePositive":"priceChangeNegative",children:[n>0?"\u2191":"\u2193"," ",n==null?void 0:n.toFixed(2)," | ",o==null?void 0:o.toFixed(2),"%"]})]})},Te=({symbol:e})=>c("div",{className:"dashboard",children:[c("div",{className:"main-section",children:[t(P,{style:{marginTop:"4vh"}}),t(Pe,{stockSymbol:e}),t(ce,{stockSymbol:e}),t(pe,{stockSymbol:e}),t($e,{})]}),c("div",{className:"right-sidebar",children:[t(de,{stockSymbol:e}),t(ve,{stockSymbol:e}),t(fe,{stockSymbol:e})]})]});function Fe(){const[e,s]=i.exports.useState(""),[a,n]=i.exports.useState(0);return i.exports.useEffect(()=>{if(a<100){const r=setInterval(()=>{n(o=>o+1)},10);return()=>{clearInterval(r)}}},[a]),c("div",{className:"app",children:[t(J,{completed:a}),c(v.Provider,{value:{setSelectedResult:s},children:[a===100&&!e&&t(se,{}),e&&t(Te,{symbol:e})]})]})}W.render(t(Y.StrictMode,{children:t(Fe,{})}),document.getElementById("root"));
